# 🎨 Как добавить кнопки в ноду "Сообщение" через UI

## 📍 **Где находится функционал?**

1. Откройте **Конструктор Workflow**
2. Выберите или создайте ноду типа **"Сообщение"** (message)
3. Кликните на ноду для открытия панели свойств справа
4. Прокрутите вниз до секции **"Кнопки"**

---

## ✨ **Пошаговая инструкция**

### **Шаг 1: Добавление кнопок**

1. В секции "Кнопки" нажмите кнопку **"Добавить кнопки"**
2. Появится редактор клавиатуры

### **Шаг 2: Выбор типа клавиатуры**

Выберите один из двух типов:

- **Inline (под сообщением)** - кнопки отображаются под сообщением
- **Reply (заменяет клавиатуру)** - кнопки заменяют стандартную клавиатуру

### **Шаг 3: Настройка кнопок**

#### **Для Inline кнопок:**

1. Введите **текст кнопки**
2. Выберите один из вариантов:
   - **callback_data** - для обработки через trigger.callback
   - **URL** - для открытия ссылки
   - **goto_node** - для прямого перехода к другой ноде (введите ID ноды)

#### **Для Reply кнопок:**

1. Введите **текст кнопки**
2. Опционально отметьте:
   - **Запросить контакт** - кнопка запросит номер телефона
   - **Запросить локацию** - кнопка запросит геолокацию

### **Шаг 4: Добавление рядов**

- Нажмите **"+"** внутри ряда, чтобы добавить кнопку в текущий ряд
- Нажмите **"Добавить ряд кнопок"**, чтобы создать новый ряд

### **Шаг 5: Сохранение**

Нажмите **"Сохранить изменения"** в нижней части панели свойств

---

## 🎯 **Примеры**

### **Пример 1: Простое меню**

**Тип:** Inline

**Кнопки:**
```
Ряд 1: [💰 Баланс] [🎁 Акции]
Ряд 2: [📞 Поддержка]
```

**Настройка:**
- "💰 Баланс" → goto_node: `balance-node`
- "🎁 Акции" → goto_node: `promo-node`
- "📞 Поддержка" → url: `https://t.me/support`

---

### **Пример 2: Регистрация**

**Тип:** Reply

**Кнопки:**
```
Ряд 1: [📱 Поделиться номером]
Ряд 2: [❌ Отмена]
```

**Настройка:**
- "📱 Поделиться номером" → ✅ Запросить контакт
- "❌ Отмена" → (просто текст)

**Дополнительные опции:**
- ✅ Скрыть после нажатия
- ✅ Адаптировать размер

---

## 🔧 **Дополнительные опции (Reply)**

При использовании Reply клавиатуры доступны дополнительные опции:

- **Скрыть после нажатия** - клавиатура исчезнет после использования
- **Адаптировать размер** - клавиатура подстроится под размер экрана

---

## ⚡ **Горячие клавиши**

- **+** (внутри ряда) - Добавить кнопку в ряд
- **🗑️** (корзина) - Удалить кнопку или ряд
- **Добавить ряд кнопок** - Создать новый ряд

---

## 🎨 **Визуальная структура**

```
┌─────────────────────────────────────┐
│   Кнопки                [Добавить]   │
├─────────────────────────────────────┤
│ Тип клавиатуры: [Inline ▼]          │
├─────────────────────────────────────┤
│ ┌─── Ряд 1 ──────────────── + 🗑️ ┐ │
│ │ [Текст кнопки: Баланс________]   │ │
│ │ [callback_data: _____________]   │ │
│ │ [URL: _______________________]   │ │
│ │ [goto_node: balance-node____] 🗑️ │ │
│ └─────────────────────────────────┘ │
│ ┌─── Ряд 2 ──────────────── + 🗑️ ┐ │
│ │ [Текст кнопки: Акции_________]   │ │
│ │ [goto_node: promo-node______] 🗑️ │ │
│ └─────────────────────────────────┘ │
│ [+ Добавить ряд кнопок]              │
└─────────────────────────────────────┘
```

---

## ❓ **FAQ**

### **Q: Что такое goto_node?**
A: Это ID ноды, к которой нужно перейти при нажатии на кнопку. Вы можете найти ID ноды в её свойствах или скопировать из URL при выборе ноды.

### **Q: Можно ли использовать emoji в тексте кнопки?**
A: Да! Просто вставьте emoji прямо в поле "Текст кнопки".

### **Q: Что выбрать: callback_data, URL или goto_node?**
A:
- **goto_node** - для простой навигации без дополнительной логики
- **callback_data** - для сложной логики с использованием trigger.callback
- **URL** - для открытия внешних ссылок

### **Q: Как удалить все кнопки?**
A: Нажмите кнопку "Удалить клавиатуру" в заголовке секции "Кнопки".

### **Q: Сколько кнопок можно добавить?**
A: Telegram поддерживает до 8 кнопок в ряду и неограниченное количество рядов, но для удобства рекомендуем использовать не более 2-3 кнопок в ряду и 5-6 рядов.

---

## ✅ **Лучшие практики**

1. **Используйте emoji** для визуальной привлекательности
2. **Группируйте похожие действия** в один ряд
3. **Не перегружайте** - максимум 2-3 кнопки в ряду
4. **Используйте goto_node** для простой навигации
5. **Делайте текст кнопок кратким** (до 15 символов)
6. **Тестируйте** клавиатуру перед публикацией

---

## 🚀 **Готово!**

Теперь вы можете создавать красивые и функциональные кнопки прямо в редакторе сообщений!

**Не забудьте сохранить изменения перед тестированием!**

