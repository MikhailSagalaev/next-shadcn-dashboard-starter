# üì± –ì–∞–π–¥: –ö–Ω–æ–ø–∫–∏ –≤ –æ–±—ã—á–Ω–æ–π –Ω–æ–¥–µ "–°–æ–æ–±—â–µ–Ω–∏–µ"

## üéØ **–û–±–∑–æ—Ä**

–¢–µ–ø–µ—Ä—å –≤ –æ–±—ã—á–Ω—É—é –Ω–æ–¥—É —Ç–∏–ø–∞ `message` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–ª—è—Ç—å –∫–Ω–æ–ø–∫–∏ (inline –∏ reply) –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–æ–∑–¥–∞–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ –Ω–æ–¥—ã `message.keyboard.inline` –∏–ª–∏ `message.keyboard.reply`.

---

## ‚ú® **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**

‚úÖ **–ú–µ–Ω—å—à–µ –Ω–æ–¥** - –Ω–µ –Ω—É–∂–Ω—ã –æ—Ç–¥–µ–ª—å–Ω—ã–µ keyboard –Ω–æ–¥—ã  
‚úÖ **–£–¥–æ–±—Å—Ç–≤–æ** - —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∫–Ω–æ–ø–∫–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ  
‚úÖ **–ì–∏–±–∫–æ—Å—Ç—å** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ inline –∏ reply –∫–Ω–æ–ø–æ–∫  
‚úÖ **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ –∫–Ω–æ–ø–æ–∫  

---

## üìã **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### **–ë–∞–∑–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

```json
{
  "id": "welcome-message",
  "type": "message",
  "data": {
    "label": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ",
    "config": {
      "message": {
        "text": "–ü—Ä–∏–≤–µ—Ç! –í—ã–±–µ—Ä–∏ –¥–µ–π—Å—Ç–≤–∏–µ:",
        "parseMode": "HTML",
        "keyboard": {
          "type": "inline",  // –∏–ª–∏ "reply"
          "buttons": [
            [
              {
                "text": "–ö–Ω–æ–ø–∫–∞ 1",
                "callback_data": "action_1"
              }
            ]
          ]
        }
      }
    }
  }
}
```

---

## üîò **–¢–∏–ø—ã –∫–Ω–æ–ø–æ–∫**

### **1. Inline –∫–Ω–æ–ø–∫–∏** (–ø–æ—è–≤–ª—è—é—Ç—Å—è –ø–æ–¥ —Å–æ–æ–±—â–µ–Ω–∏–µ–º)

#### **A. Callback –∫–Ω–æ–ø–∫–∞**
```json
{
  "type": "inline",
  "buttons": [
    [
      {
        "text": "–ú–æ–π –±–∞–ª–∞–Ω—Å",
        "callback_data": "check_balance"
      }
    ]
  ]
}
```

#### **B. URL –∫–Ω–æ–ø–∫–∞**
```json
{
  "type": "inline",
  "buttons": [
    [
      {
        "text": "üåê –ù–∞—à —Å–∞–π—Ç",
        "url": "https://example.com"
      }
    ]
  ]
}
```

#### **C. –ö–Ω–æ–ø–∫–∞ —Å goto_node** (–ø—Ä—è–º–æ–π –ø–µ—Ä–µ—Ö–æ–¥)
```json
{
  "type": "inline",
  "buttons": [
    [
      {
        "text": "–î–∞–ª–µ–µ ‚Üí",
        "goto_node": "next-step"
      }
    ]
  ]
}
```

#### **D. Web App –∫–Ω–æ–ø–∫–∞**
```json
{
  "type": "inline",
  "buttons": [
    [
      {
        "text": "üéÆ –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ",
        "web_app": {
          "url": "https://app.example.com"
        }
      }
    ]
  ]
}
```

---

### **2. Reply –∫–Ω–æ–ø–∫–∏** (–∑–∞–º–µ–Ω—è—é—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—É)

#### **A. –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –∫–æ–Ω—Ç–∞–∫—Ç–∞**
```json
{
  "type": "reply",
  "buttons": [
    [
      {
        "text": "üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º",
        "request_contact": true
      }
    ]
  ],
  "resize_keyboard": true,
  "one_time_keyboard": true
}
```

#### **B. –ö–Ω–æ–ø–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –ª–æ–∫–∞—Ü–∏–∏**
```json
{
  "type": "reply",
  "buttons": [
    [
      {
        "text": "üìç –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≥–µ–æ–ª–æ–∫–∞—Ü–∏—é",
        "request_location": true
      }
    ]
  ]
}
```

#### **C. –û–±—ã—á–Ω–∞—è reply –∫–Ω–æ–ø–∫–∞**
```json
{
  "type": "reply",
  "buttons": [
    [
      {
        "text": "–ú–µ–Ω—é"
      },
      {
        "text": "–ü–æ–º–æ—â—å"
      }
    ],
    [
      {
        "text": "–ù–∞—Å—Ç—Ä–æ–π–∫–∏"
      }
    ]
  ]
}
```

---

## üé® **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**

### **–ü—Ä–∏–º–µ—Ä 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –º–µ–Ω—é**

```json
{
  "id": "welcome",
  "type": "message",
  "data": {
    "label": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ",
    "config": {
      "message": {
        "text": "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
        "keyboard": {
          "type": "inline",
          "buttons": [
            [
              {
                "text": "üí∞ –ú–æ–π –±–∞–ª–∞–Ω—Å",
                "callback_data": "balance"
              },
              {
                "text": "üéÅ –ê–∫—Ü–∏–∏",
                "callback_data": "promotions"
              }
            ],
            [
              {
                "text": "üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞",
                "url": "https://t.me/support"
              }
            ]
          ]
        }
      }
    }
  }
}
```

---

### **–ü—Ä–∏–º–µ—Ä 2: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –∑–∞–ø—Ä–æ—Å–æ–º –∫–æ–Ω—Ç–∞–∫—Ç–∞**

```json
{
  "id": "registration",
  "type": "message",
  "data": {
    "label": "–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è",
    "config": {
      "message": {
        "text": "üì± –î–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞:",
        "keyboard": {
          "type": "reply",
          "buttons": [
            [
              {
                "text": "üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –Ω–æ–º–µ—Ä–æ–º",
                "request_contact": true
              }
            ],
            [
              {
                "text": "‚ùå –û—Ç–º–µ–Ω–∞"
              }
            ]
          ],
          "resize_keyboard": true,
          "one_time_keyboard": true
        }
      }
    }
  }
}
```

---

### **–ü—Ä–∏–º–µ—Ä 3: –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å goto_node**

```json
{
  "id": "step-1",
  "type": "message",
  "data": {
    "label": "–®–∞–≥ 1",
    "config": {
      "message": {
        "text": "–≠—Ç–æ –ø–µ—Ä–≤—ã–π —à–∞–≥. –ì–æ—Ç–æ–≤—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å?",
        "keyboard": {
          "type": "inline",
          "buttons": [
            [
              {
                "text": "‚úÖ –î–∞, –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å",
                "goto_node": "step-2"
              }
            ],
            [
              {
                "text": "‚ùå –ù–µ—Ç, –æ—Ç–º–µ–Ω–∏—Ç—å",
                "goto_node": "cancel"
              }
            ]
          ]
        }
      }
    }
  }
}
```

---

### **–ü—Ä–∏–º–µ—Ä 4: –°–º–µ—à–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ (–Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä—è–¥–æ–≤)**

```json
{
  "id": "menu",
  "type": "message",
  "data": {
    "label": "–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
    "config": {
      "message": {
        "text": "üè† <b>–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é</b>\n\n–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª:",
        "parseMode": "HTML",
        "keyboard": {
          "type": "inline",
          "buttons": [
            [
              {
                "text": "üí∞ –ë–∞–ª–∞–Ω—Å",
                "callback_data": "balance"
              },
              {
                "text": "üìä –ò—Å—Ç–æ—Ä–∏—è",
                "callback_data": "history"
              }
            ],
            [
              {
                "text": "üéÅ –ê–∫—Ü–∏–∏",
                "goto_node": "promotions"
              }
            ],
            [
              {
                "text": "‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏",
                "callback_data": "settings"
              },
              {
                "text": "‚ùì –ü–æ–º–æ—â—å",
                "url": "https://help.example.com"
              }
            ]
          ]
        }
      }
    }
  }
}
```

---

## üîß **–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**

### **–î–ª—è Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|----------|
| `type` | `"inline"` | –¢–∏–ø –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã |
| `buttons` | `InlineButton[][]` | –ú–∞—Å—Å–∏–≤ —Ä—è–¥–æ–≤ –∫–Ω–æ–ø–æ–∫ |

### **–î–ª—è Reply –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã:**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|--------------|
| `type` | `"reply"` | –¢–∏–ø –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã | - |
| `buttons` | `ReplyButton[][]` | –ú–∞—Å—Å–∏–≤ —Ä—è–¥–æ–≤ –∫–Ω–æ–ø–æ–∫ | - |
| `resize_keyboard` | `boolean` | –ê–¥–∞–ø—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä | `true` |
| `one_time_keyboard` | `boolean` | –°–∫—Ä—ã—Ç—å –ø–æ—Å–ª–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | `false` |
| `selective` | `boolean` | –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±–æ—Ä–æ—á–Ω–æ | `false` |

---

## ‚ö° **–û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–∞–∂–∞—Ç–∏–π –∫–Ω–æ–ø–æ–∫**

### **1. Callback –∫–Ω–æ–ø–∫–∏** (callback_data)
–¢—Ä–µ–±—É—é—Ç —Ç—Ä–∏–≥–≥–µ—Ä `trigger.callback`:

```json
{
  "id": "balance-trigger",
  "type": "trigger.callback",
  "data": {
    "config": {
      "callback_data": "balance"
    }
  }
}
```

### **2. Goto –∫–Ω–æ–ø–∫–∏** (goto_node)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–æ–¥—è—Ç –∫ —É–∫–∞–∑–∞–Ω–Ω–æ–π –Ω–æ–¥–µ. –¢—Ä–∏–≥–≥–µ—Ä –Ω–µ –Ω—É–∂–µ–Ω!

### **3. URL –∫–Ω–æ–ø–∫–∏**
–û—Ç–∫—Ä—ã–≤–∞—é—Ç —Å—Å—ã–ª–∫—É. –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

### **4. Request Contact/Location**
–¢—Ä–µ–±—É—é—Ç —Ç—Ä–∏–≥–≥–µ—Ä `trigger.contact`:

```json
{
  "id": "contact-trigger",
  "type": "trigger.contact"
}
```

---

## üìä **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø–æ–¥—Ö–æ–¥–æ–≤**

| –ü–æ–¥—Ö–æ–¥ | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–¥ | –£–¥–æ–±—Å—Ç–≤–æ | –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å |
|--------|----------------|----------|-------------------|
| **message + keyboard** | 1 | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –ü—Ä–æ—Å—Ç—ã–µ –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è |
| **message.keyboard.inline** | 2 | ‚≠ê‚≠ê‚≠ê | –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–Ω–æ–ø–æ–∫ |
| **message.keyboard.reply** | 2 | ‚≠ê‚≠ê‚≠ê | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã |

---

## ‚úÖ **–õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ inline –∫–Ω–æ–ø–∫–∏** –¥–ª—è –º–µ–Ω—é –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ reply –∫–Ω–æ–ø–∫–∏** –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –¥–∞–Ω–Ω—ã—Ö (–∫–æ–Ω—Ç–∞–∫—Ç, –ª–æ–∫–∞—Ü–∏—è)
3. **–ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏** –≤ –æ–¥–∏–Ω —Ä—è–¥
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ goto_node** –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
5. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ callback_data** –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏
6. **–î–æ–±–∞–≤–ª—è–π—Ç–µ —ç–º–æ–¥–∑–∏** –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–π –ø—Ä–∏–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
7. **–û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–π—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–Ω–æ–ø–æ–∫** (–º–∞–∫—Å–∏–º—É–º 8-10)

---

## üöÄ **–ú–∏–≥—Ä–∞—Ü–∏—è —Å–æ —Å—Ç–∞—Ä–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞**

### **–ë—ã–ª–æ (2 –Ω–æ–¥—ã):**

```
[message] ‚Üí [message.keyboard.inline]
```

### **–°—Ç–∞–ª–æ (1 –Ω–æ–¥–∞):**

```
[message —Å keyboard]
```

### **–ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏:**

**–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥:**
```json
{
  "nodes": [
    {
      "id": "msg",
      "type": "message",
      "data": { "config": { "message": { "text": "–ü—Ä–∏–≤–µ—Ç!" } } }
    },
    {
      "id": "kbd",
      "type": "message.keyboard.inline",
      "data": { "config": { "buttons": [[{ "text": "OK", "callback_data": "ok" }]] } }
    }
  ]
}
```

**–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥:**
```json
{
  "nodes": [
    {
      "id": "msg",
      "type": "message",
      "data": {
        "config": {
          "message": {
            "text": "–ü—Ä–∏–≤–µ—Ç!",
            "keyboard": {
              "type": "inline",
              "buttons": [[{ "text": "OK", "callback_data": "ok" }]]
            }
          }
        }
      }
    }
  ]
}
```

---

## üéØ **–ó–∞–∫–ª—é—á–µ–Ω–∏–µ**

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–Ω–∏–µ –±–æ—Ç–æ–≤ —Å—Ç–∞–ª–æ **–µ—â–µ –ø—Ä–æ—â–µ**:

‚úÖ –ú–µ–Ω—å—à–µ –Ω–æ–¥ ‚Üí –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞  
‚úÖ –í—Å–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ ‚Üí —É–¥–æ–±–Ω–µ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å  
‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–æ –≤—Å–µ–º–∏ —Ç–∏–ø–∞–º–∏ –∫–Ω–æ–ø–æ–∫  
‚úÖ –ì–∏–±–∫–æ—Å—Ç—å ‚Üí –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–∞ –ø–æ–¥—Ö–æ–¥–∞  

**–ù–∞—á–Ω–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫–∏ –≤ message –Ω–æ–¥–∞—Ö —É–∂–µ —Å–µ–π—á–∞—Å!** üöÄ

