# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç–∞. –í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–µ–¥—É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç–∞: `{variable_name}`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö Telegram (username, first_name)
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö workflow (execution_id, session_id)
- ‚úÖ UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- ‚úÖ –ó–∞—â–∏—Ç–∞ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—Ç —É–¥–∞–ª–µ–Ω–∏—è

## üìù –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–í —Å–æ–æ–±—â–µ–Ω–∏—è—Ö –±–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö:

```
–ü—Ä–∏–≤–µ—Ç, {username}!
–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {company_name}.
–í–∞—à ID: {user_id}
```

## üîß –¢–∏–ø—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 1. –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|------------|----------|-----------------|
| `{project_name}` | –ù–∞–∑–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ | "–ú–æ–π –º–∞–≥–∞–∑–∏–Ω" |
| `{domain}` | –î–æ–º–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞ | "myshop.com" |
| `{company_name}` | –ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏ | "–û–û–û –ú–æ–π –º–∞–≥–∞–∑–∏–Ω" |
| `{support_email}` | Email –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | "support@myshop.com" |
| `{support_phone}` | –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∏ | "+7 (999) 123-45-67" |
| `{website}` | –°–∞–π—Ç –∫–æ–º–ø–∞–Ω–∏–∏ | "https://myshop.com" |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ `project_name` –∏ `domain` –Ω–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å, –Ω–æ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è.

### 2. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Telegram

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä –∑–Ω–∞—á–µ–Ω–∏—è |
|------------|----------|-----------------|
| `{username}` | Username –≤ Telegram | "@john_doe" |
| `{first_name}` | –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è | "–ò–≤–∞–Ω" |
| `{user_id}` | Telegram User ID | "123456789" |
| `{chat_id}` | Telegram Chat ID | "123456789" |

### 3. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ Workflow

–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏:

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|------------|----------|
| `{workflow_id}` | ID —Ç–µ–∫—É—â–µ–≥–æ workflow |
| `{execution_id}` | ID —Ç–µ–∫—É—â–µ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `{session_id}` | ID —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è |

### 4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å –ª—é–±—ã–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ UI –∏–ª–∏ API.

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

```
üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, {first_name}!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {company_name}!

üåê –ù–∞—à —Å–∞–π—Ç: {website}
üìß Email: {support_email}
üì± –¢–µ–ª–µ—Ñ–æ–Ω: {support_phone}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "–ò–≤–∞–Ω":**
```
üëã –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, –ò–≤–∞–Ω!

–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –û–û–û –ú–æ–π –º–∞–≥–∞–∑–∏–Ω!

üåê –ù–∞—à —Å–∞–π—Ç: https://myshop.com
üìß Email: support@myshop.com
üì± –¢–µ–ª–µ—Ñ–æ–Ω: +7 (999) 123-45-67
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ

```
üéÅ {first_name}, —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–∞—Å!

–ü–æ–ª—É—á–∏—Ç–µ —Å–∫–∏–¥–∫—É {discount_percent}% –Ω–∞ –ø–µ—Ä–≤—É—é –ø–æ–∫—É–ø–∫—É –≤ {company_name}!

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥: {promo_code}
–î–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω –¥–æ: {promo_expiry}
```

### –ü—Ä–∏–º–µ—Ä 3: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–∫–∞–∑–µ

```
‚úÖ –ó–∞–∫–∞–∑ #{order_id} –æ—Ñ–æ—Ä–º–ª–µ–Ω!

–°–ø–∞—Å–∏–±–æ –∑–∞ –ø–æ–∫—É–ø–∫—É, {first_name}!

üì¶ –°—Ç–∞—Ç—É—Å: {order_status}
üí∞ –°—É–º–º–∞: {order_amount} —Ä—É–±.
üöö –î–æ—Å—Ç–∞–≤–∫–∞: {delivery_address}

–û—Ç—Å–ª–µ–¥–∏—Ç—å –∑–∞–∫–∞–∑: {website}/orders/{order_id}
```

## üîå API Endpoints

### GET /api/projects/[id]/variables
–ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç–∞

**Response:**
```json
{
  "variables": [
    {
      "key": "company_name",
      "value": "–ú–æ–π –º–∞–≥–∞–∑–∏–Ω",
      "description": "–ù–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏",
      "isSystem": false
    }
  ]
}
```

### POST /api/projects/[id]/variables
–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

**Request:**
```json
{
  "key": "discount_percent",
  "value": "10",
  "description": "–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
}
```

**Response:**
```json
{
  "variable": {
    "id": "...",
    "key": "discount_percent",
    "value": "10",
    "description": "–ü—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π",
    "isSystem": false
  }
}
```

### PUT /api/projects/[id]/variables/[key]
–û–±–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

**Request:**
```json
{
  "value": "15",
  "description": "–£–≤–µ–ª–∏—á–µ–Ω–Ω–∞—è —Å–∫–∏–¥–∫–∞"
}
```

### DELETE /api/projects/[id]/variables/[key]
–£–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é (—Ç–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ)

### POST /api/projects/[id]/variables/initialize
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

## üé® UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

```tsx
import { ProjectVariablesManager } from '@/features/projects/components/project-variables-manager';

function ProjectSettings({ projectId }: { projectId: string }) {
  return (
    <div>
      <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞</h1>
      <ProjectVariablesManager projectId={projectId} />
    </div>
  );
}
```

### –§—É–Ω–∫—Ü–∏–∏ UI

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** –≤ –≤–∏–¥–µ —Ç–∞–±–ª–∏—Ü—ã
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ –¥–∏–∞–ª–æ–≥
- **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **–£–¥–∞–ª–µ–Ω–∏–µ** –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- **–ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `{key}` –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–¥–Ω–æ–π –∫–Ω–æ–ø–∫–æ–π
- **–ë–µ–π–¥–∂–∏** –¥–ª—è —Ä–∞–∑–ª–∏—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

## üîí –ü—Ä–∞–≤–∏–ª–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ö–ª—é—á–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

- ‚úÖ –¢–æ–ª—å–∫–æ –ª–∞—Ç–∏–Ω—Å–∫–∏–µ –±—É–∫–≤—ã (a-z, A-Z)
- ‚úÖ –¶–∏—Ñ—Ä—ã (0-9)
- ‚úÖ –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ (_)
- ‚ùå –ü—Ä–æ–±–µ–ª—ã
- ‚ùå –°–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã
- ‚ùå –ö–∏—Ä–∏–ª–ª–∏—Ü–∞

**–ü—Ä–∞–≤–∏–ª—å–Ω–æ:**
- `company_name`
- `support_email`
- `discount_2024`

**–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:**
- `company name` (–ø—Ä–æ–±–µ–ª)
- `–ø–æ–¥–¥–µ—Ä–∂–∫–∞` (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞)
- `email@support` (—Å–ø–µ—Ü—Å–∏–º–≤–æ–ª)

### –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

- ‚úÖ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ
- ‚úÖ –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω—è—Ç—å –æ–ø–∏—Å–∞–Ω–∏–µ
- ‚ùå –ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å
- ‚ùå –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω–∏—Ç—å –∫–ª—é—á

### –£–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å

- –ö–∞–∂–¥—ã–π –∫–ª—é—á –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π —É–Ω–∏–∫–∞–ª–µ–Ω –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞
- –ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ —Å–æ–∑–¥–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç –≤–µ—Ä–Ω–µ—Ç—Å—è –æ—à–∏–±–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

1. –û—Ç–∫—Ä–æ–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ"
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
4. –°–∏—Å—Ç–µ–º–∞ —Å–æ–∑–¥–∞—Å—Ç –±–∞–∑–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö:
   - `company_name` - –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∞—à–µ–π –∫–æ–º–ø–∞–Ω–∏–∏
   - `support_email` - —Ä–µ–∞–ª—å–Ω—ã–π email –ø–æ–¥–¥–µ—Ä–∂–∫–∏
   - `support_phone` - —Ä–µ–∞–ª—å–Ω—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω
   - `website` - –≤–∞—à —Å–∞–π—Ç

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–≤–æ–∏—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

1. –ù–∞–∂–º–∏—Ç–µ "–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é"
2. –í–≤–µ–¥–∏—Ç–µ –∫–ª—é—á (–Ω–∞–ø—Ä–∏–º–µ—Ä: `promo_code`)
3. –í–≤–µ–¥–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä: `WELCOME2024`)
4. –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ
5. –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

### –®–∞–≥ 4: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –±–æ—Ç–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä workflow
2. –°–æ–∑–¥–∞–π—Ç–µ –∏–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –Ω–æ–¥—É —Ç–∏–ø–∞ "Message"
3. –í —Ç–µ–∫—Å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: `{promo_code}`
4. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ workflow

## üîß –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í —Å–µ—Ä–≤–∏—Å–∞—Ö

```typescript
import { ProjectVariablesService } from '@/lib/services/project-variables.service';

// –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∫–∞–∫ –æ–±—ä–µ–∫—Ç
const variables = await ProjectVariablesService.getVariablesAsObject(projectId);
console.log(variables.company_name); // "–ú–æ–π –º–∞–≥–∞–∑–∏–Ω"

// –ó–∞–º–µ–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ —Ç–µ–∫—Å—Ç–µ
const text = "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {company_name}!";
const processed = await ProjectVariablesService.replaceVariablesInText(
  projectId,
  text
);
console.log(processed); // "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ú–æ–π –º–∞–≥–∞–∑–∏–Ω!"

// –° –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
const processed2 = await ProjectVariablesService.replaceVariablesInText(
  projectId,
  "–ü—Ä–∏–≤–µ—Ç, {username}! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ {company_name}!",
  { username: "–ò–≤–∞–Ω" }
);
```

### –í MessageHandler

–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–º–µ–Ω—è—é—Ç—Å—è –≤ `MessageHandler` –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏–π. –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞.

## üìä –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –ú–æ–¥–µ–ª—å ProjectVariable

```prisma
model ProjectVariable {
  id          String   @id @default(cuid())
  projectId   String
  key         String
  value       String
  description String?
  isSystem    Boolean  @default(false)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  project Project @relation(fields: [projectId], references: [id], onDelete: Cascade)

  @@unique([projectId, key])
  @@index([projectId])
}
```

## üéØ Best Practices

### 1. –ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ snake_case: `company_name`, `support_email`
- –î–µ–ª–∞–π—Ç–µ –∏–º–µ–Ω–∞ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–º–∏: `promo_code` –≤–º–µ—Å—Ç–æ `pc`
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ –ø—Ä–µ—Ñ–∏–∫—Å—É: `order_id`, `order_status`, `order_amount`

### 2. –ó–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

- –•—Ä–∞–Ω–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–±–Ω–æ–≤–ª—è–π—Ç–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- –ù–µ —Ö—Ä–∞–Ω–∏—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–ø–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã)

### 3. –û–ø–∏—Å–∞–Ω–∏—è

- –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ
- –£–∫–∞–∂–∏—Ç–µ —Ñ–æ—Ä–º–∞—Ç –∑–Ω–∞—á–µ–Ω–∏—è
- –û–ø–∏—à–∏—Ç–µ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è

### 4. –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è

- –°–æ–∑–¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ä–∞–Ω–µ–µ
- –ì—Ä—É–ø–ø–∏—Ä—É–π—Ç–µ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é
- –£–¥–∞–ª—è–π—Ç–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### –û—à–∏–±–∫–∞: "–ö–ª—é—á –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã, —Ü–∏—Ñ—Ä—ã –∏ –ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ"

**–ü—Ä–∏—á–∏–Ω–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –≤ –∫–ª—é—á–µ

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ `a-z`, `A-Z`, `0-9`, `_`

### –û—à–∏–±–∫–∞: "–ù–µ–ª—å–∑—è —É–¥–∞–ª–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é"

**–ü—Ä–∏—á–∏–Ω–∞**: –ü–æ–ø—ã—Ç–∫–∞ —É–¥–∞–ª–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é —Å `isSystem: true`

**–†–µ—à–µ–Ω–∏–µ**: –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å

### –û—à–∏–±–∫–∞: "–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è —Å —Ç–∞–∫–∏–º –∫–ª—é—á–æ–º —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç"

**–ü—Ä–∏—á–∏–Ω–∞**: –î—É–±–ª–∏–∫–∞—Ç –∫–ª—é—á–∞ –≤ —Ä–∞–º–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞

**–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–ª—é—á –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é

## üîç –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–º–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

–í –ª–æ–≥–∞—Ö workflow –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```json
{
  "originalText": "–ü—Ä–∏–≤–µ—Ç, {username}!",
  "processedText": "–ü—Ä–∏–≤–µ—Ç, –ò–≤–∞–Ω!"
}
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

```typescript
const available = await ProjectVariablesService.getAvailableVariables(projectId);
console.log(available);
```

---

**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è**: 2025-10-14  
**–ê–≤—Ç–æ—Ä**: SaaS Bonus System

