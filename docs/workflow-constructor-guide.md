# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞ Workflow

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –î–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä—É
- **URL**: `http://localhost:5006/dashboard/projects/[projectId]/workflow`
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è**: 
  - –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–æ–µ–∫—Ç ‚Üí "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Workflow"
  - –ò–ª–∏ —á–µ—Ä–µ–∑ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ ‚Üí "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä Workflow"

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ workflow

1. **–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π workflow**:
   - –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
   - –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "–ú–æ–π –ø–µ—Ä–≤—ã–π –±–æ—Ç"
   - –î–æ–±–∞–≤—å—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ–∑–¥–∞—Ç—å"

2. **–î–æ–±–∞–≤—å—Ç–µ –Ω–æ–¥—ã**:
   - –ò–∑ –ø–∞–Ω–µ–ª–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Å–ª–µ–≤–∞ –ø–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–æ–¥—ã –Ω–∞ canvas
   - –ò–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –Ω–æ–¥—ã –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è

3. **–°–≤—è–∂–∏—Ç–µ –Ω–æ–¥—ã**:
   - –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –æ—Ç –≤—ã—Ö–æ–¥–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ (–Ω–∏–∑ –Ω–æ–¥—ã) –∫ –≤—Ö–æ–¥–Ω–æ–º—É –ø–æ—Ä—Ç—É (–≤–µ—Ä—Ö –Ω–æ–¥—ã)
   - –°–æ–∑–¥–∞–π—Ç–µ —Ü–µ–ø–æ—á–∫—É: Trigger ‚Üí Message ‚Üí End

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –Ω–æ–¥—ã**:
   - –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –Ω–æ–¥—É –¥–ª—è –≤—ã–±–æ—Ä–∞
   - –í –ø–∞–Ω–µ–ª–∏ —Å–≤–æ–π—Å—Ç–≤ —Å–ø—Ä–∞–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ workflow**:
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ
   - Workflow –±—É–¥–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üìã –¢–∏–ø—ã –Ω–æ–¥

### üü¢ Trigger (–¢—Ä–∏–≥–≥–µ—Ä)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –≤ workflow
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
- –¢–∏–ø —Ç—Ä–∏–≥–≥–µ—Ä–∞: `command`, `message`, `callback`, `webhook`
- –ó–Ω–∞—á–µ–Ω–∏–µ: `/start`, —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, callback data

**–ü—Ä–∏–º–µ—Ä**:
```
–¢–∏–ø: command
–ó–Ω–∞—á–µ–Ω–∏–µ: /start
```

### üîµ Message (–°–æ–æ–±—â–µ–Ω–∏–µ)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
- –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –í–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ü—Ä–∏–º–µ—Ä**:
```
–¢–µ–∫—Å—Ç: –ü—Ä–∏–≤–µ—Ç! –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –Ω–∞—à –±–æ—Ç!
```

### üü† Condition (–£—Å–ª–æ–≤–∏–µ)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í–µ—Ç–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
- –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è: `user.name`, `message.text`, etc.
- –û–ø–µ—Ä–∞—Ç–æ—Ä: `equals`, `contains`, `greater`, `less`
- –ó–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä**:
```
–ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è: message.text
–û–ø–µ—Ä–∞—Ç–æ—Ä: contains
–ó–Ω–∞—á–µ–Ω–∏–µ: –ø–æ–º–æ—â—å
```

### üü£ Action (–î–µ–π—Å—Ç–≤–∏–µ)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
- –¢–∏–ø –¥–µ–π—Å—Ç–≤–∏—è: `api_call`, `database_query`, `set_variable`
- –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–µ–π—Å—Ç–≤–∏—è

**–ü—Ä–∏–º–µ—Ä**:
```
–¢–∏–ø: set_variable
–ò–º—è –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π: user_name
–ó–Ω–∞—á–µ–Ω–∏–µ: {{message.text}}
```

### üü° Delay (–ó–∞–¥–µ—Ä–∂–∫–∞)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ü–∞—É–∑–∞ –≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**:
- –ó–∞–¥–µ—Ä–∂–∫–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö

**–ü—Ä–∏–º–µ—Ä**:
```
–ó–∞–¥–µ—Ä–∂–∫–∞: 2000 (2 —Å–µ–∫—É–Ω–¥—ã)
```

### ‚ö´ End (–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ö–æ–Ω–µ—Ü workflow
**–ù–∞—Å—Ç—Ä–æ–π–∫–∏**: –ù–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫

## üîó –°–≤—è–∑–∏ –º–µ–∂–¥—É –Ω–æ–¥–∞–º–∏

### –¢–∏–ø—ã —Å–≤—è–∑–µ–π:
- **Default**: –û–±—ã—á–Ω–∞—è —Å–≤—è–∑—å
- **True**: –°–≤—è–∑—å –¥–ª—è —É—Å–ª–æ–≤–∏—è "–∏—Å—Ç–∏–Ω–∞"
- **False**: –°–≤—è–∑—å –¥–ª—è —É—Å–ª–æ–≤–∏—è "–ª–æ–∂—å"

### –°–æ–∑–¥–∞–Ω–∏–µ —Å–≤—è–∑–µ–π:
1. –ù–∞–≤–µ–¥–∏—Ç–µ –∫—É—Ä—Å–æ—Ä –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç –Ω–æ–¥—ã
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –∫ –≤—Ö–æ–¥–Ω–æ–º—É –ø–æ—Ä—Ç—É –¥—Ä—É–≥–æ–π –Ω–æ–¥—ã
3. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–≤—è–∑–∏

## üìä –ü—Ä–∏–º–µ—Ä—ã workflow

### 1. –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π –±–æ—Ç
```
[Trigger: /start] ‚Üí [Message: "–ü—Ä–∏–≤–µ—Ç!"] ‚Üí [End]
```

### 2. –ë–æ—Ç —Å —É—Å–ª–æ–≤–∏–µ–º
```
[Trigger: /start] 
    ‚Üì
[Message: "–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ –∏–º—è:"]
    ‚Üì
[Condition: message.text exists]
    ‚Üì (True)                    ‚Üì (False)
[Message: "–ü—Ä–∏–≤–µ—Ç, {name}!"]  [Message: "–ò–º—è –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"]
    ‚Üì                            ‚Üì
[End]                        [End]
```

### 3. –ë–æ—Ç —Å –¥–µ–π—Å—Ç–≤–∏–µ–º
```
[Trigger: /start] 
    ‚Üì
[Action: Get user balance]
    ‚Üì
[Message: "–í–∞—à –±–∞–ª–∞–Ω—Å: {balance}"]
    ‚Üì
[End]
```

### 4. –ë–æ—Ç —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
```
[Trigger: /start] 
    ‚Üì
[Message: "–ü–æ–¥–æ–∂–¥–∏—Ç–µ..."]
    ‚Üì
[Delay: 3000ms]
    ‚Üì
[Message: "–ì–æ—Ç–æ–≤–æ!"]
    ‚Üì
[End]
```

## üõ†Ô∏è –§—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞

### –ü–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (—Å–ª–µ–≤–∞):
- **Trigger**: –î–æ–±–∞–≤–∏—Ç—å —Ç—Ä–∏–≥–≥–µ—Ä
- **Message**: –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
- **Condition**: –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–∏–µ
- **Action**: –î–æ–±–∞–≤–∏—Ç—å –¥–µ–π—Å—Ç–≤–∏–µ
- **Delay**: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–µ—Ä–∂–∫—É
- **End**: –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ

### –ó–∞–≥–æ–ª–æ–≤–æ–∫ (—Å–≤–µ—Ä—Ö—É):
- **–í—ã–±–æ—Ä workflow**: Dropdown —Å–æ —Å–ø–∏—Å–∫–æ–º workflow
- **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π**: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ workflow
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å**: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- **–≠–∫—Å–ø–æ—Ä—Ç**: –≠–∫—Å–ø–æ—Ä—Ç workflow –≤ JSON
- **–ò–º–ø–æ—Ä—Ç**: –ò–º–ø–æ—Ä—Ç workflow –∏–∑ JSON
- **–£–¥–∞–ª–∏—Ç—å**: –£–¥–∞–ª–µ–Ω–∏–µ workflow

### –ü–∞–Ω–µ–ª—å —Å–≤–æ–π—Å—Ç–≤ (—Å–ø—Ä–∞–≤–∞):
- **–ù–∞–∑–≤–∞–Ω–∏–µ –Ω–æ–¥—ã**: –ò–º—è –Ω–æ–¥—ã
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–¥—ã
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–æ–¥—ã
- **–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è**: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### Canvas (—Ü–µ–Ω—Ç—Ä):
- **–ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –Ω–æ–¥
- **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ**: Zoom in/out
- **–ü–∞–Ω–æ—Ä–∞–º–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –ø–æ canvas
- **–í—ã–±–æ—Ä**: –ö–ª–∏–∫ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–¥—ã

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∏ workflow

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
- –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ workflow
- –î–æ—Å—Ç—É–ø–Ω—ã –≤–æ –≤—Å–µ—Ö –Ω–æ–¥–∞—Ö
- –§–æ—Ä–º–∞—Ç: `{{variable_name}}`

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏:
- **Timeout**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- **Max Retries**: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–≤—Ç–æ—Ä–æ–≤ –ø—Ä–∏ –æ—à–∏–±–∫–µ
- **Error Handling**: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

## üì± –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–æ—Ç–æ–º"
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
3. –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –±–æ—Ç–∞
4. Workflow –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥–∫–ª—é—á–∏—Ç—Å—è –∫ –±–æ—Ç—É

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ workflow:
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram
2. –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
3. Workflow engine –≤—ã–ø–æ–ª–Ω—è–µ—Ç workflow
4. –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

## üêõ –û—Ç–ª–∞–¥–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è workflow –ª–æ–≥–∏—Ä—É—é—Ç—Å—è
- –û—à–∏–±–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–æ–¥

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è workflow –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- –ü–æ—à–∞–≥–æ–≤–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è workflow –ø–µ—Ä–µ–¥ –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](bot-workflow-architecture.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](api.md)
- [Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è](telegram-bots.md)
- [–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö](database-schema.md)
