# üåê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É–±–ª–∏—á–Ω–æ–≥–æ URL –¥–ª—è webhook'–æ–≤

## üö® –ü—Ä–æ–±–ª–µ–º–∞ —Å ngrok
Ngrok —Ç—Ä–µ–±—É–µ—Ç –±–µ—Å–ø–ª–∞—Ç–Ω—É—é —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –Ω–∞ https://ngrok.com/signup

## ‚úÖ –†–ê–ë–û–¢–ê–Æ–©–ò–ï –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–´

### 1Ô∏è‚É£ LocalTunnel (–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚úÖ)
```bash
# –ó–∞–ø—É—Å–∫ (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
lt --port 5006

# –° –∫–∞—Å—Ç–æ–º–Ω—ã–º –ø–æ–¥–¥–æ–º–µ–Ω–æ–º
lt --port 5006 --subdomain bonus-system-test
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—É—á–∏—Ç–µ URL —Ç–∏–ø–∞ `https://bonus-system-test.loca.lt`

### 2Ô∏è‚É£ Serveo (–ë–µ–∑ —É—Å—Ç–∞–Ω–æ–≤–∫–∏)
```bash
# –ß–µ—Ä–µ–∑ SSH (—Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏)
ssh -R 80:localhost:5006 serveo.net
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—É—á–∏—Ç–µ URL —Ç–∏–ø–∞ `https://random.serveo.net`

### 3Ô∏è‚É£ Vercel –¥–µ–ø–ª–æ–π (–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
```bash
# –ë—ã—Å—Ç—Ä—ã–π –¥–µ–ø–ª–æ–π
yarn deploy:vercel
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ü–æ–ª—É—á–∏—Ç–µ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π URL —Ç–∏–ø–∞ `https://your-app.vercel.app`

## üéØ –ò–ù–°–¢–†–£–ö–¶–ò–Ø –ü–û –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ

### –®–∞–≥ 1: –í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–±
- **–î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è**: LocalTunnel –∏–ª–∏ Serveo
- **–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞**: Vercel

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π URL
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –∏–∑ –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook –≤ Tilda
```
https://your-tunnel-url.com/api/webhook/[–≤–∞—à-webhook-secret]
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä—É–π—Ç–µ
–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑ —á–µ—Ä–µ–∑ Tilda

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï WEBHOOK'–ê

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ç–µ—Å—Ç:
```bash
yarn test:webhook
```

### –†—É—á–Ω–æ–π —Ç–µ—Å—Ç:
```bash
curl -X POST https://your-tunnel-url.com/api/webhook/test-secret \
  -H "Content-Type: application/json" \
  -d '{
    "action": "purchase",
    "userEmail": "test@example.com", 
    "purchaseAmount": 1000,
    "orderId": "TEST_001",
    "description": "–¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–∫—É–ø–∫–∞"
  }'
```

## üìù –ö–û–ú–ê–ù–î–´ –î–õ–Ø –ë–´–°–¢–†–û–ì–û –ó–ê–ü–£–°–ö–ê

```bash
# 1. –ó–∞–ø—É—Å–∫ Next.js (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 1)
yarn dev

# 2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—É–Ω–Ω–µ–ª—è (–≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 2)
lt --port 5006
# –ò–õ–ò
ssh -R 80:localhost:5006 serveo.net

# 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
yarn test:webhook
```

## üîß –£–°–¢–†–ê–ù–ï–ù–ò–ï –ü–†–û–ë–õ–ï–ú

### LocalTunnel –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
npm install -g localtunnel
lt --version
```

### Next.js –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞
netstat -an | findstr :5006

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
yarn dev
```

### Webhook –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Tilda
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —Ç—É–Ω–Ω–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Next.js
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π webhook secret

---
**üí° –°–æ–≤–µ—Ç**: –î–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Vercel –¥–µ–ø–ª–æ–π!
