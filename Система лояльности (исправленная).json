{
  "id": "cmgqm22x90001v8c8yz6gj4q7",
  "projectId": "cmgntgsdv0000v8mwfwwh30az",
  "name": "–°–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω–∞—è)",
  "description": "–£–º–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Å—Ç–∞—Ç—É—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ–º –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤ –∏ —Ñ–ª–æ—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç–µ. –ò–°–ü–†–ê–í–õ–ï–ù–ê –ø—Ä–æ–±–ª–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤.",
  "isActive": true,
  "nodes": [
    {
      "id": "start-trigger",
      "data": {
        "label": "–ö–æ–º–∞–Ω–¥–∞ /start",
        "config": {
          "trigger.command": {
            "command": "/start"
          }
        }
      },
      "type": "trigger.command",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 100
      },
      "selected": false
    },
    {
      "id": "welcome-message",
      "data": {
        "label": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ",
        "config": {
          "message": {
            "text": "üéÅ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏!\n\nüí∞ –ü–æ–ª—É—á–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å!\n\nüì± –î–ª—è –Ω–∞—á–∞–ª–∞ —Ä–∞–±–æ—Ç—ã –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –Ω–æ–º–µ—Ä–æ–º —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∫–Ω–æ–ø–∫–æ–π –Ω–∏–∂–µ –ò–õ–ò –æ—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–≤–æ–π email —Ç–µ–∫—Å—Ç–æ–º –≤ —á–∞—Ç.",
            "keyboard": {
              "type": "reply",
              "buttons": [
                [
                  {
                    "text": "üì± –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º",
                    "request_contact": true
                  }
                ],
                [
                  {
                    "text": "‚úâÔ∏è –í–≤–µ—Å—Ç–∏ email"
                  }
                ]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 162
      },
      "position": {
        "x": 400,
        "y": 100
      },
      "selected": false
    },
    {
      "id": "check-telegram-user",
      "data": {
        "label": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ Telegram ID",
        "config": {
          "action.database_query": {
            "query": "check_user_by_telegram",
            "parameters": {
              "telegramId": "{{telegram.userId}}",
              "projectId": "{{projectId}}"
            },
            "assignTo": "telegramUser"
          }
        }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 700,
        "y": 100
      },
      "selected": false
    },
    {
      "id": "check-user-status",
      "data": {
        "label": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–π–¥–µ–Ω?",
        "config": {
          "condition": {
            "variable": "telegramUser",
            "operator": "is_not_empty"
          }
        }
      },
      "type": "condition",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1000,
        "y": 100
      },
      "selected": false
    },
    {
      "id": "check-user-active",
      "data": {
        "label": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–∫—Ç–∏–≤–µ–Ω?",
        "config": {
          "condition": {
            "variable": "telegramUser.isActive",
            "operator": "equals",
            "value": true
          }
        }
      },
      "type": "condition",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1300,
        "y": 100
      },
      "selected": false
    },
    {
      "id": "active-user-profile",
      "data": {
        "label": "–ü—Ä–æ—Ñ–∏–ª—å –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "config": {
          "message": {
            "text": "üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞–∑–∞–¥, {user.firstName}!\n\nüí∞ –ë–æ–Ω—É—Å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞: –ú–∞–æ–∫–∞\n\nüíµ –í–∞—à –±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤: {user.balanceFormatted}\nüìä –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: {user.totalEarnedFormatted}‚ÇΩ\nüõí –ü–æ—Ç—Ä–∞—á–µ–Ω–æ: {user.totalSpentFormatted}‚ÇΩ\nüèÜ –ò—Å—Ç–µ–∫–∞–µ—Ç –≤ –±–ª–∏–∂–∞–π—à–∏–µ 30 –¥–Ω–µ–π: {user.expiringBonuses}‚ÇΩ\n\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ:",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [
                  {"text": "üí∞ –ë–∞–ª–∞–Ω—Å", "callback_data": "menu_balance"},
                  {"text": "üìú –ò—Å—Ç–æ—Ä–∏—è", "callback_data": "menu_history"}
                ],
                [
                  {"text": "üèÜ –£—Ä–æ–≤–µ–Ω—å", "callback_data": "menu_level"},
                  {"text": "üë• –†–µ—Ñ–µ—Ä–∞–ª—ã", "callback_data": "menu_referrals"}
                ],
                [
                  {"text": "üîó –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å", "callback_data": "menu_invite"},
                  {"text": "‚ùì –ü–æ–º–æ—â—å", "callback_data": "menu_help"}
                ]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 200
      },
      "position": {
        "x": 1600,
        "y": 50
      },
      "selected": false
    },
    {
      "id": "request-contact-confirmation",
      "data": {
        "label": "–ó–∞–ø—Ä–æ—Å–∏—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–∞–∫—Ç–∞",
        "config": {
          "message": {
            "text": "üîç –ú—ã –Ω–∞—à–ª–∏ –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç, –Ω–æ –æ–Ω –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω.\n\nüì± –î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ email:\n\n‚Ä¢ –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫–æ–Ω—Ç–∞–∫—Ç–∞\n‚Ä¢ –ò–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –≤–∞—à email –≤—Ä—É—á–Ω—É—é",
            "keyboard": {
              "type": "reply",
              "buttons": [
                [
                  {
                    "text": "–ü–æ–¥–µ–ª–∏—Ç—å—Å—è –∫–æ–Ω—Ç–∞–∫—Ç–æ–º",
                    "request_contact": true
                  }
                ],
                [
                  {
                    "text": "–í–≤–µ—Å—Ç–∏ email",
                    "callback_data": "enter_email"
                  }
                ]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 1600,
        "y": 200
      },
      "selected": false
    },
    {
      "id": "check-contact-user",
      "data": {
        "label": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç—É/email",
      "config": {
        "action.database_query": {
          "query": "check_user_by_contact",
          "parameters": {
            "phone": "{{contactReceived.phoneNumber}}",
            "email": "{{telegram.message.text}}",
            "projectId": "{{projectId}}"
          },
          "assignTo": "contactUser"
        }
      }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1000,
        "y": 300
      },
      "selected": false
    },
    {
      "id": "check-contact-found",
      "data": {
        "label": "–ö–æ–Ω—Ç–∞–∫—Ç –Ω–∞–π–¥–µ–Ω?",
        "config": {
          "condition": {
            "variable": "contactUser",
            "operator": "is_not_empty"
          }
        }
      },
      "type": "condition",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1300,
        "y": 300
      },
      "selected": false
    },
    {
      "id": "check-telegram-already-linked",
      "data": {
        "label": "Telegram —É–∂–µ –ø—Ä–∏–≤—è–∑–∞–Ω?",
        "config": {
          "condition": {
            "variable": "contactUser.telegramId",
            "operator": "is_not_empty"
          }
        }
      },
      "type": "condition",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1600,
        "y": 350
      },
      "selected": false
    },
    {
      "id": "already-active-message",
      "data": {
        "label": "–£–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω",
        "config": {
          "message": {
            "text": "‚úÖ –í–∞—à –∞–∫–∫–∞—É–Ω—Ç —É–∂–µ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\nüí∞ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {user.balanceFormatted}\nüìä –£—Ä–æ–≤–µ–Ω—å: {user.currentLevel}\nüéÅ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥: {user.referralCode}\n\nüõçÔ∏è –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ –¥–µ–ª–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ –∏ –∫–æ–ø–∏—Ç—å –±–æ–Ω—É—Å—ã!"
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 1900,
        "y": 450
      },
      "selected": false
    },
    {
      "id": "activate-user",
      "data": {
        "label": "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "config": {
          "action.database_query": {
            "query": "activate_user",
            "parameters": {
              "userId": "{{contactUser.id}}",
              "telegramId": "{{telegram.userId}}",
              "telegramUsername": "{{telegram.username}}"
            }
          }
        }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 1900,
        "y": 250
      },
      "selected": false
    },
    {
      "id": "check-welcome-bonus",
      "data": {
        "label": "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã",
        "config": {
          "action.database_query": {
            "query": "check_welcome_bonus",
            "parameters": {
              "userId": "{{contactUser.id}}"
            },
            "assignTo": "hasWelcomeBonus"
          }
        }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 2200,
        "y": 250
      },
      "selected": false
    },
    {
      "id": "check-bonus-exists",
      "data": {
        "label": "–ï—Å—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã?",
        "config": {
          "condition": {
            "variable": "hasWelcomeBonus",
            "operator": "equals",
            "value": false
          }
        }
      },
      "type": "condition",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 2500,
        "y": 250
      },
      "selected": false
    },
    {
      "id": "add-welcome-bonus",
      "data": {
        "label": "–ù–∞—á–∏—Å–ª–∏—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã",
        "config": {
          "action.database_query": {
            "query": "add_bonus",
            "parameters": {
              "userId": "{{contactUser.id}}",
              "amount": 100,
              "type": "WELCOME",
              "description": "–ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã –∑–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏—é –∞–∫–∫–∞—É–Ω—Ç–∞"
            }
          }
        }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 2800,
        "y": 250
      },
      "selected": false
    },
    {
      "id": "success-activated-user",
      "data": {
        "label": "–£—Å–ø–µ—à–Ω–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è",
        "config": {
          "message": {
            "text": "üéâ –ê–∫–∫–∞—É–Ω—Ç —É—Å–ø–µ—à–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!\n\nüí∞ –í–∞–º –Ω–∞—á–∏—Å–ª–µ–Ω–æ 100 –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤!\n\nüìä –í–∞—à –ø—Ä–æ—Ñ–∏–ª—å:\n‚Ä¢ –ë–∞–ª–∞–Ω—Å: {user.balanceFormatted}\n‚Ä¢ –£—Ä–æ–≤–µ–Ω—å: {user.currentLevel}\n‚Ä¢ –†–µ—Ñ–µ—Ä–∞–ª—å–Ω—ã–π –∫–æ–¥: {user.referralCode}\n\n‚ú® –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏!"
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 3100,
        "y": 250
      },
      "selected": false
    },
    {
      "id": "website-registration-required",
      "data": {
        "label": "–¢—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–∞ —Å–∞–π—Ç–µ",
        "config": {
          "message": {
            "text": "üåê –î–ª—è —É—á–∞—Å—Ç–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ.\n\nüìù –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç:\n\nüîó https://your-website.com/register\n\n‚ú® –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤–µ—Ä–Ω–∏—Ç–µ—Å—å –∫ –±–æ—Ç—É –∏ –ø–æ–¥–µ–ª–∏—Ç–µ—Å—å –∫–æ–Ω—Ç–∞–∫—Ç–æ–º –¥–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –±–æ–Ω—É—Å–æ–≤!",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [
                  {
                    "text": "üåê –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ —Å–∞–π—Ç–µ",
                    "url": "https://your-website.com/register"
                  }
                ],
                [
                  {
                    "text": "üîÑ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–Ω–æ–≤–∞",
                    "callback_data": "check_again"
                  }
                ]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 200
      },
      "position": {
        "x": 1600,
        "y": 500
      },
      "selected": false
    },
    {
      "id": "menu-balance-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –ë–∞–ª–∞–Ω—Å",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_balance"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 700
      },
      "selected": false
    },
    {
      "id": "show-balance-details",
      "data": {
        "label": "–ü–æ–¥—Ä–æ–±–Ω—ã–π –±–∞–ª–∞–Ω—Å",
        "config": {
          "message": {
            "text": "üí∞ –í–∞—à –±–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–æ–≤\n\nüíµ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: {user.balanceFormatted}‚ÇΩ\nüìà –í—Å–µ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–æ: {user.totalEarnedFormatted}‚ÇΩ\nüìâ –í—Å–µ–≥–æ –ø–æ—Ç—Ä–∞—á–µ–Ω–æ: {user.totalSpentFormatted}‚ÇΩ\nüõçÔ∏è –ü–æ–∫—É–ø–æ–∫ –Ω–∞ —Å—É–º–º—É: {user.totalPurchasesFormatted}‚ÇΩ\n\n‚ú® –ü—Ä–æ–¥–æ–ª–∂–∞–π—Ç–µ —Å–æ–≤–µ—Ä—à–∞—Ç—å –ø–æ–∫—É–ø–∫–∏ –¥–ª—è –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è –±–æ–Ω—É—Å–æ–≤!",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üìú –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π", "callback_data": "menu_history"}],
                [{"text": "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", "callback_data": "menu_main"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 400,
        "y": 700
      },
      "selected": false
    },
    {
      "id": "menu-history-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –ò—Å—Ç–æ—Ä–∏—è",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_history"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 950
      },
      "selected": false
    },
    {
      "id": "get-transactions-list",
      "data": {
        "label": "–ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –æ–ø–µ—Ä–∞—Ü–∏–π",
        "config": {
          "action.database_query": {
            "query": "get_transactions",
            "parameters": {
              "userId": "{{telegramUser.id}}",
              "limit": 10
            },
            "assignTo": "transactions"
          }
        }
      },
      "type": "action.database_query",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 142
      },
      "position": {
        "x": 400,
        "y": 950
      },
      "selected": false
    },
    {
      "id": "show-history-list",
      "data": {
        "label": "–ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π",
        "config": {
          "message": {
            "text": "üìú –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π\n\n–ü–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ–ø–µ—Ä–∞—Ü–∏–π:\n\n{transactions.formatted}\n\n–ü–æ–∫–∞–∑–∞–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 –æ–ø–µ—Ä–∞—Ü–∏–π.\n\nüí° –î–ª—è –ø–æ–ª–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–µ—Ç–∏—Ç–µ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç –Ω–∞ —Å–∞–π—Ç–µ.",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üîô –ù–∞–∑–∞–¥", "callback_data": "menu_balance"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 700,
        "y": 950
      },
      "selected": false
    },
    {
      "id": "menu-level-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –£—Ä–æ–≤–µ–Ω—å",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_level"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 1200
      },
      "selected": false
    },
    {
      "id": "show-level-info",
      "data": {
        "label": "–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—Ä–æ–≤–Ω–µ",
        "config": {
          "message": {
            "text": "üèÜ –í–∞—à —Ç–µ–∫—É—â–∏–π —É—Ä–æ–≤–µ–Ω—å\n\nüìä –£—Ä–æ–≤–µ–Ω—å: {user.currentLevel}\nüíé –ë–æ–Ω—É—Å–æ–≤ –Ω–∞—á–∏—Å–ª–µ–Ω–æ: {user.levelBonusPercent}%\nüí≥ –û–ø–ª–∞—Ç–∞ –±–æ–Ω—É—Å–∞–º–∏: –¥–æ {user.levelPaymentPercent}%\n\nüìà –ü—Ä–æ–≥—Ä–µ—Å—Å –¥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è:\n{user.progressBar}\n\nüí∞ –°–¥–µ–ª–∞–π—Ç–µ –ø–æ–∫—É–ø–æ–∫ –Ω–∞ {user.nextLevelAmount}‚ÇΩ –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è!",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", "callback_data": "menu_main"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 400,
        "y": 1200
      },
      "selected": false
    },
    {
      "id": "menu-referrals-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –†–µ—Ñ–µ—Ä–∞–ª—ã",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_referrals"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 1450
      },
      "selected": false
    },
    {
      "id": "show-referrals-stats",
      "data": {
        "label": "–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤",
        "config": {
          "message": {
            "text": "üë• –†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞\n\nüéÅ –£—Å–ª–æ–≤–∏—è:\n‚Ä¢ –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ: 10% —Å –ø–æ–∫—É–ø–æ–∫ –¥—Ä—É–∑–µ–π\n‚Ä¢ –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∞–µ—Ç: 10% –±–æ–Ω—É—Å–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏\n\nüìä –í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:\n‚Ä¢ –í—Å–µ–≥–æ —Ä–µ—Ñ–µ—Ä–∞–ª–æ–≤: {user.referralCount}\n‚Ä¢ –í—Å–µ–≥–æ –≤—ã–ø–ª–∞—á–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤: {user.referralBonusTotal}‚ÇΩ\n\nüí° –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ –±–æ–ª—å—à–µ –±–æ–Ω—É—Å–æ–≤!",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üîó –ü–æ–ª—É—á–∏—Ç—å —Å—Å—ã–ª–∫—É", "callback_data": "menu_invite"}],
                [{"text": "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", "callback_data": "menu_main"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 400,
        "y": 1450
      },
      "selected": false
    },
    {
      "id": "menu-invite-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_invite"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 1700
      },
      "selected": false
    },
    {
      "id": "show-invite-link",
      "data": {
        "label": "–†–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞",
        "config": {
          "message": {
            "text": "üîó –í–∞—à–∞ —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞\n\n{user.referralLink}\n\nüìù –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥: {user.referralCode}\n\nüí° –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å –µ–π —Å –¥—Ä—É–∑—å—è–º–∏:\n‚úÖ –ó–∞ –∫–∞–∂–¥–æ–≥–æ –¥—Ä—É–≥–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ 10% —Å –µ–≥–æ –ø–æ–∫—É–ø–æ–∫\n‚úÖ –í–∞—à –¥—Ä—É–≥ –ø–æ–ª—É—á–∏—Ç 10% –±–æ–Ω—É—Å–æ–≤ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üë• –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞", "callback_data": "menu_referrals"}],
                [{"text": "üîô –ù–∞–∑–∞–¥ –≤ –º–µ–Ω—é", "callback_data": "menu_main"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 400,
        "y": 1700
      },
      "selected": false
    },
    {
      "id": "menu-help-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –ü–æ–º–æ—â—å",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_help"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 1950
      },
      "selected": false
    },
    {
      "id": "show-help-info",
      "data": {
        "label": "–°–ø—Ä–∞–≤–∫–∞",
        "config": {
          "message": {
            "text": "‚ùì –°–ø—Ä–∞–≤–∫–∞ –ø–æ –±–æ–Ω—É—Å–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ\n\nüìå –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:\n‚Ä¢ –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ –±–æ–Ω—É—Å—ã –∑–∞ –ø–æ–∫—É–ø–∫–∏\n‚Ä¢ –û–ø–ª–∞—á–∏–≤–∞–π—Ç–µ –±–æ–Ω—É—Å–∞–º–∏ –¥–æ 20% –∑–∞–∫–∞–∑–∞\n‚Ä¢ –ü—Ä–∏–≥–ª–∞—à–∞–π—Ç–µ –¥—Ä—É–∑–µ–π –∏ –ø–æ–ª—É—á–∞–π—Ç–µ 10% –æ—Ç –∏—Ö –ø–æ–∫—É–ø–æ–∫\n‚Ä¢ –ü–æ–≤—ã—à–∞–π—Ç–µ —É—Ä–æ–≤–µ–Ω—å –¥–ª—è –±–æ–ª—å—à–∏—Ö –±–æ–Ω—É—Å–æ–≤\n\nüìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞:\n‚Ä¢ Email: support@example.com\n‚Ä¢ Telegram: @support_bot\n‚Ä¢ –ß–∞—Å—ã —Ä–∞–±–æ—Ç—ã: –ü–Ω-–ü—Ç 9:00-18:00",
            "keyboard": {
              "type": "inline",
              "buttons": [
                [{"text": "üîô –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é", "callback_data": "menu_main"}]
              ]
            }
          }
        }
      },
      "type": "message",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 180
      },
      "position": {
        "x": 400,
        "y": 1950
      },
      "selected": false
    },
    {
      "id": "menu-main-trigger",
      "data": {
        "label": "–¢—Ä–∏–≥–≥–µ—Ä: –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é",
        "config": {
          "trigger.callback": {
            "callbackData": "menu_main"
          }
        }
      },
      "type": "trigger.callback",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 100,
        "y": 2200
      },
      "selected": false
    },
    {
      "id": "end-node",
      "data": {
        "label": "–ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ",
        "config": {
          "flow.end": {}
        }
      },
      "type": "flow.end",
      "dragging": false,
      "measured": {
        "width": 256,
        "height": 122
      },
      "position": {
        "x": 3400,
        "y": 200
      },
      "selected": false
    }
  ],
  "connections": [
    {
      "id": "edge-start-trigger-check-telegram-user-1760624947114",
      "type": "default",
      "source": "start-trigger",
      "target": "check-telegram-user",
      "animated": true
    },
    {
      "id": "edge-check-telegram-user-check-user-status-1760624947115",
      "type": "default",
      "source": "check-telegram-user",
      "target": "check-user-status",
      "animated": true
    },
    {
      "id": "edge-check-user-status-check-user-active-1760624947116",
      "type": "default",
      "source": "check-user-status",
      "target": "check-user-active",
      "animated": true,
      "sourceHandle": "true"
    },
    {
      "id": "edge-check-user-status-welcome-message-1760624947117",
      "type": "default",
      "source": "check-user-status",
      "target": "welcome-message",
      "animated": true,
      "sourceHandle": "false"
    },
    {
      "id": "edge-welcome-message-check-contact-user-1760624947118",
      "type": "default",
      "source": "welcome-message",
      "target": "check-contact-user",
      "animated": true
    },
    {
      "id": "edge-check-user-active-active-user-profile-1760624947119",
      "type": "default",
      "source": "check-user-active",
      "target": "active-user-profile",
      "animated": true,
      "sourceHandle": "true"
    },
    {
      "id": "edge-check-user-active-request-contact-confirmation-1760624947120",
      "type": "default",
      "source": "check-user-active",
      "target": "request-contact-confirmation",
      "animated": true,
      "sourceHandle": "false"
    },
    {
      "id": "edge-request-contact-confirmation-check-contact-user-1760624947121",
      "type": "default",
      "source": "request-contact-confirmation",
      "target": "check-contact-user",
      "animated": true
    },
    {
      "id": "edge-check-contact-user-check-contact-found-1760624947122",
      "type": "default",
      "source": "check-contact-user",
      "target": "check-contact-found",
      "animated": true
    },
    {
      "id": "edge-check-contact-found-check-telegram-already-linked-1760624947123",
      "type": "default",
      "source": "check-contact-found",
      "target": "check-telegram-already-linked",
      "animated": true,
      "sourceHandle": "true"
    },
    {
      "id": "edge-check-contact-found-website-registration-required-1760624947124",
      "type": "default",
      "source": "check-contact-found",
      "target": "website-registration-required",
      "animated": true,
      "sourceHandle": "false"
    },
    {
      "id": "edge-check-telegram-already-linked-already-active-message-1760624947125",
      "type": "default",
      "source": "check-telegram-already-linked",
      "target": "already-active-message",
      "animated": true,
      "sourceHandle": "true"
    },
    {
      "id": "edge-check-telegram-already-linked-activate-user-1760624947126",
      "type": "default",
      "source": "check-telegram-already-linked",
      "target": "activate-user",
      "animated": true,
      "sourceHandle": "false"
    },
    {
      "id": "edge-activate-user-check-welcome-bonus-1760624947127",
      "type": "default",
      "source": "activate-user",
      "target": "check-welcome-bonus",
      "animated": true
    },
    {
      "id": "edge-check-welcome-bonus-check-bonus-exists-1760624947128",
      "type": "default",
      "source": "check-welcome-bonus",
      "target": "check-bonus-exists",
      "animated": true
    },
    {
      "id": "edge-check-bonus-exists-add-welcome-bonus-1760624947129",
      "type": "default",
      "source": "check-bonus-exists",
      "target": "add-welcome-bonus",
      "animated": true,
      "sourceHandle": "true"
    },
    {
      "id": "edge-check-bonus-exists-success-activated-user-1760624947130",
      "type": "default",
      "source": "check-bonus-exists",
      "target": "success-activated-user",
      "animated": true,
      "sourceHandle": "false"
    },
    {
      "id": "edge-add-welcome-bonus-success-activated-user-1760624947131",
      "type": "default",
      "source": "add-welcome-bonus",
      "target": "success-activated-user",
      "animated": true
    },
    {
      "id": "edge-already-active-message-end-node-1760624947133",
      "type": "default",
      "source": "already-active-message",
      "target": "end-node",
      "animated": true
    },
    {
      "id": "edge-success-activated-user-end-node-1760624947134",
      "type": "default",
      "source": "success-activated-user",
      "target": "end-node",
      "animated": true
    },
    {
      "id": "edge-website-registration-required-end-node-1760624947135",
      "type": "default",
      "source": "website-registration-required",
      "target": "end-node",
      "animated": true
    },
    {
      "id": "edge-menu-balance-trigger-show-balance-details",
      "type": "default",
      "source": "menu-balance-trigger",
      "target": "show-balance-details",
      "animated": true
    },
    {
      "id": "edge-menu-history-trigger-get-transactions-list",
      "type": "default",
      "source": "menu-history-trigger",
      "target": "get-transactions-list",
      "animated": true
    },
    {
      "id": "edge-get-transactions-list-show-history-list",
      "type": "default",
      "source": "get-transactions-list",
      "target": "show-history-list",
      "animated": true
    },
    {
      "id": "edge-menu-level-trigger-show-level-info",
      "type": "default",
      "source": "menu-level-trigger",
      "target": "show-level-info",
      "animated": true
    },
    {
      "id": "edge-menu-referrals-trigger-show-referrals-stats",
      "type": "default",
      "source": "menu-referrals-trigger",
      "target": "show-referrals-stats",
      "animated": true
    },
    {
      "id": "edge-menu-invite-trigger-show-invite-link",
      "type": "default",
      "source": "menu-invite-trigger",
      "target": "show-invite-link",
      "animated": true
    },
    {
      "id": "edge-menu-help-trigger-show-help-info",
      "type": "default",
      "source": "menu-help-trigger",
      "target": "show-help-info",
      "animated": true
    },
    {
      "id": "edge-menu-main-trigger-active-user-profile",
      "type": "default",
      "source": "menu-main-trigger",
      "target": "active-user-profile",
      "animated": true
    }
  ],
  "entry_node_id": "start-trigger",
  "variables": [
    {
      "id": "telegramUser",
      "name": "telegramUser",
      "type": "object",
      "description": "–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ Telegram ID",
      "defaultValue": null
    },
    {
      "id": "contactUser",
      "name": "contactUser",
      "type": "object",
      "description": "–î–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –∫–æ–Ω—Ç–∞–∫—Ç—É/email",
      "defaultValue": null
    },
    {
      "id": "hasWelcomeBonus",
      "name": "hasWelcomeBonus",
      "type": "boolean",
      "description": "–ï—Å—Ç—å –ª–∏ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–µ –±–æ–Ω—É—Å—ã",
      "defaultValue": false
    }
  ],
  "settings": {
    "retryAttempts": 3,
    "maxExecutionTime": 60000,
    "autoSave": true,
    "gridSnap": true
  },
  "createdAt": "2025-10-16T17:24:00.000Z",
  "updatedAt": "2025-10-28T18:30:00.000Z"
}

