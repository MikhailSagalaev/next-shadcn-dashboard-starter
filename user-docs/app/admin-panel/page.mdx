# Админ панель

Полное руководство по работе с административной панелью Gupil.

## Обзор админ панели

Административная панель Gupil предоставляет полный контроль над вашими проектами бонусных программ. Здесь вы можете управлять проектами, пользователями, настройками и аналитикой.

## Главная страница дашборда

**URL**: `/dashboard`

### Что отображается:
- **Общая статистика** - количество проектов, пользователей, активных ботов
- **Графики активности** - динамика регистраций и транзакций
- **Последние события** - недавние действия в системе
- **Быстрые действия** - создание проекта, просмотр уведомлений

### Как использовать:
1. После входа в систему вы попадаете на главную страницу
2. Изучите общую статистику ваших проектов
3. Используйте боковое меню для навигации по разделам
4. Кликните "Создать проект" для добавления нового проекта

## Управление проектами

### Список проектов
**URL**: `/dashboard/projects`

Центральная страница для управления всеми вашими проектами бонусных программ.

#### Функции:
- **Просмотр всех проектов** - таблица с основной информацией
- **Создание нового проекта** - кнопка "Создать проект"
- **Быстрые действия** - редактирование, настройки, статистика
- **Фильтрация и поиск** - поиск по названию проекта

#### Как создать проект:
1. Нажмите кнопку "Создать проект"
2. Заполните обязательные поля:
   - Название проекта
   - Домен сайта (опционально)
3. Выберите режим работы:
   - **С Telegram ботом** - требует активации через бота
   - **Без Telegram бота** - автоматическая активация
4. Нажмите "Создать"

### Настройки проекта
**URL**: `/dashboard/projects/[id]/settings`

Основные настройки проекта бонусной программы.

#### Разделы настроек:

**Основные настройки:**
- Название проекта и описание
- Домен сайта для интеграции
- Режим работы бонусной системы (EARN_ONLY, SPEND_ONLY, SPEND_AND_EARN)
- Процент начисления бонусов
- Срок действия бонусов

**Настройки активации:**
- Режим активации пользователей
- Требование подтверждения email/телефона
- Автоматическая активация новых пользователей

**Webhook настройки:**
- URL для webhook уведомлений
- Секретный ключ для безопасности
- Формат данных (JSON/Form)

#### Как настроить:
1. Перейдите в проект → Настройки
2. Заполните основную информацию
3. Настройте процент начисления бонусов
4. Установите срок действия бонусов
5. Сохраните изменения

### Пользователи проекта
**URL**: `/dashboard/projects/[id]/users`

Управление пользователями конкретного проекта.

#### Функции:
- **Список всех пользователей** - таблица с полной информацией
- **Поиск и фильтрация** - по email, телефону, статусу
- **Управление балансом** - начисление/списание бонусов
- **Массовые операции** - рассылки, изменение статуса
- **Экспорт данных** - выгрузка в CSV/Excel

#### Информация о пользователе:
- Контактные данные (email, телефон)
- Текущий баланс бонусов
- Уровень в программе лояльности
- История транзакций
- Статус активации
- Дата регистрации

#### Массовые операции:
1. Выберите пользователей через чекбоксы
2. Нажмите "Массовые операции"
3. Выберите действие:
   - Начислить бонусы
   - Списать бонусы
   - Отправить уведомление
   - Изменить статус
4. Подтвердите операцию

### Аналитика проекта
**URL**: `/dashboard/projects/[id]/analytics`

Подробная аналитика эффективности бонусной программы.

#### Основные метрики:
- **Общие показатели** - количество пользователей, транзакций
- **Финансовые метрики** - оборот, средний чек, ROI
- **Активность пользователей** - регистрации, активные пользователи
- **Эффективность программы** - конверсия, удержание

#### Графики и отчеты:
- Динамика регистраций по дням/месяцам
- Распределение пользователей по уровням
- География пользователей
- Источники трафика (UTM метки)
- Эффективность реферальной программы

#### Экспорт отчетов:
1. Выберите период анализа
2. Настройте фильтры (сегменты, источники)
3. Нажмите "Экспорт" → выберите формат
4. Скачайте готовый отчет

### Система уровней
**URL**: `/dashboard/projects/[id]/bonus-levels`

Настройка многоуровневой системы лояльности.

#### Функции:
- **Создание уровней** - название, условия, привилегии
- **Настройка прогрессии** - требования для перехода
- **Бонусы за уровни** - процент начисления, лимиты оплаты
- **Визуальное оформление** - иконки, цвета, описания

#### Стандартные уровни:
1. **Новичок** (0-10,000₽) - 5% бонусов, 10% оплата
2. **Бронза** (10,000-50,000₽) - 7% бонусов, 20% оплата  
3. **Серебро** (50,000-100,000₽) - 10% бонусов, 30% оплата
4. **Золото** (100,000₽+) - 15% бонусов, 50% оплата

#### Настройка уровня:
1. Нажмите "Добавить уровень"
2. Укажите название и описание
3. Установите сумму покупок для достижения
4. Настройте процент бонусов и лимит оплаты
5. Выберите иконку и цвет
6. Сохраните настройки

### Реферальная программа
**URL**: `/dashboard/projects/[id]/referral`

Настройка программы привлечения друзей.

#### Возможности:
- **Многоуровневая система** - до 3 уровней рефералов
- **Гибкие вознаграждения** - процент или фиксированная сумма
- **Условия активации** - минимальная сумма покупки
- **Отслеживание эффективности** - статистика по рефералам

#### Настройка программы:
1. Включите реферальную программу
2. Настройте вознаграждения по уровням:
   - 1 уровень (прямые рефералы) - 10%
   - 2 уровень (рефералы рефералов) - 5%
   - 3 уровень - 2%
3. Установите минимальную сумму для активации
4. Настройте срок действия реферальных бонусов

#### Статистика рефералов:
- Количество привлеченных пользователей
- Общая сумма выплаченных бонусов
- Средняя эффективность реферера
- ТОП-10 самых активных рефереров

### Telegram бот
**URL**: `/dashboard/projects/[id]/bot`

Управление Telegram ботом проекта.

#### Основные функции:
- **Создание бота** - регистрация через @BotFather
- **Настройка сообщений** - приветствие, команды, уведомления
- **Функциональные настройки** - доступные команды
- **Тестирование** - проверка работы бота
- **Статистика** - активность пользователей в боте

#### Создание бота:
1. Перейдите в Telegram к @BotFather
2. Создайте нового бота командой `/newbot`
3. Скопируйте токен бота
4. Вставьте токен в настройки проекта
5. Настройте сообщения и команды
6. Активируйте бота

#### Настройка сообщений:
- **Приветственное сообщение** - первое сообщение новому пользователю
- **Сообщение о балансе** - формат отображения бонусов
- **Уведомления** - о начислениях, списаниях, акциях
- **Команды помощи** - /help, /support

### Конструктор сценариев (Workflow)
**URL**: `/dashboard/projects/[id]/workflow`

Визуальный конструктор автоматических сценариев для бота.

#### Возможности:
- **Drag & Drop редактор** - создание сценариев мышью
- **Готовые шаблоны** - базовые сценарии для быстрого старта
- **Условная логика** - ветвления по условиям
- **Интеграции** - подключение внешних API
- **Тестирование** - проверка сценариев в реальном времени

#### Типы узлов:
- **Триггеры** - команды, события, webhook
- **Сообщения** - текст, изображения, кнопки
- **Условия** - проверка данных пользователя
- **Действия** - начисление бонусов, API запросы
- **Интеграции** - CRM, аналитика, уведомления

#### Создание сценария:
1. Нажмите "Создать workflow"
2. Выберите триггер (например, команда /start)
3. Добавьте узлы сообщений и действий
4. Настройте условия и переходы
5. Протестируйте сценарий
6. Активируйте для пользователей

### Рассылки
**URL**: `/dashboard/projects/[id]/mailings`

Массовые уведомления пользователям проекта.

#### Типы рассылок:
- **Простые уведомления** - текстовые сообщения
- **Расширенные** - с изображениями, кнопками, ссылками
- **Персонализированные** - с подстановкой данных пользователя
- **Сегментированные** - по группам пользователей

#### Создание рассылки:
1. Выберите тип рассылки
2. Настройте получателей (все или сегмент)
3. Создайте сообщение:
   - Добавьте текст
   - Прикрепите изображения
   - Настройте кнопки
4. Запланируйте отправку или отправьте сразу
5. Отслеживайте статистику доставки

#### Переменные для персонализации:
- `{user.name}` - имя пользователя
- `{user.balance}` - текущий баланс
- `{user.level}` - уровень в программе
- `{user.expiringBonuses}` - сгорающие бонусы
- `{project.name}` - название проекта

### Интеграция с сайтом
**URL**: `/dashboard/projects/[id]/integration`

Настройка интеграции бонусной системы с вашим сайтом.

#### Способы интеграции:
- **Webhook API** - для разработчиков
- **JavaScript виджеты** - готовые решения
- **Готовые плагины** - для популярных CMS
- **Tilda интеграция** - специальный модуль

#### Webhook настройка:
1. Скопируйте URL webhook из настроек
2. Настройте отправку данных с сайта:
   - Регистрация пользователя
   - Совершение покупки
   - Списание бонусов
3. Добавьте секретный ключ для безопасности
4. Протестируйте интеграцию

#### JavaScript виджет:
```html
<script src="https://gupil.ru/widget.js"></script>
<script>
  GupilWidget.init({
    projectId: 'your-project-id',
    apiKey: 'your-api-key'
  });
</script>
```

### Заказы и транзакции
**URL**: `/dashboard/projects/[id]/orders`

Просмотр всех заказов и транзакций в проекте.

#### Информация о заказах:
- Номер и дата заказа
- Сумма покупки
- Начисленные/списанные бонусы
- Данные покупателя
- Статус обработки

#### Фильтрация:
- По периоду (день, неделя, месяц)
- По типу операции (начисление/списание)
- По пользователю
- По сумме заказа

### Сегменты пользователей
**URL**: `/dashboard/projects/[id]/segments`

Создание групп пользователей для таргетированных рассылок.

#### Критерии сегментации:
- **Демографические** - возраст, пол, город
- **Поведенческие** - активность, частота покупок
- **Финансовые** - сумма покупок, средний чек
- **Временные** - дата регистрации, последняя активность

#### Готовые сегменты:
- Новые пользователи (регистрация < 7 дней)
- VIP клиенты (покупки > 100,000₽)
- Неактивные (нет покупок > 30 дней)
- Сгорающие бонусы (истекают < 7 дней)

### Логи и мониторинг
**URL**: `/dashboard/projects/[id]/logs`

Просмотр системных логов и мониторинг работы проекта.

#### Типы логов:
- **API запросы** - webhook вызовы, ответы
- **Действия пользователей** - регистрации, покупки
- **Системные события** - ошибки, предупреждения
- **Telegram бот** - сообщения, команды

#### Мониторинг:
- Статус работы всех компонентов
- Время отклика API
- Количество ошибок
- Нагрузка на систему

## Глобальные разделы

### Биллинг и тарифы
**URL**: `/dashboard/billing`

Управление подпиской и тарифными планами.

#### Информация о тарифе:
- Текущий план и его ограничения
- Использование ресурсов (проекты, пользователи)
- История платежей
- Следующее списание

#### Доступные тарифы:
- **Бесплатный** - до 100 пользователей, 1 проект
- **Стартовый** - до 1,000 пользователей, 3 проекта
- **Бизнес** - до 10,000 пользователей, 10 проектов
- **Enterprise** - без ограничений

### Настройки профиля
**URL**: `/dashboard/profile`

Управление личным профилем администратора.

#### Разделы:
- **Основная информация** - имя, email, телефон
- **Безопасность** - смена пароля, 2FA
- **Уведомления** - настройки email уведомлений
- **API ключи** - для интеграций

### Системные настройки
**URL**: `/dashboard/settings`

Глобальные настройки системы.

#### Доступные настройки:
- **Общие параметры** - часовой пояс, язык
- **Email настройки** - SMTP сервер, шаблоны
- **Интеграции** - внешние сервисы
- **Безопасность** - политики паролей, сессии

### Шаблоны ботов
**URL**: `/dashboard/templates`

Библиотека готовых шаблонов для Telegram ботов.

#### Доступные шаблоны:
- **Базовый бот** - простые команды и уведомления
- **Магазин** - интеграция с каталогом товаров
- **Ресторан** - бронирование столиков, меню
- **Салон красоты** - запись на услуги
- **Фитнес-клуб** - расписание тренировок

#### Установка шаблона:
1. Выберите подходящий шаблон
2. Нажмите "Использовать шаблон"
3. Выберите проект для установки
4. Настройте параметры под ваш бизнес
5. Активируйте бота

## Дополнительные функции

### Поиск по системе
Глобальный поиск доступен в верхней части интерфейса:
- Поиск проектов по названию
- Поиск пользователей по email/телефону
- Поиск транзакций по номеру заказа
- Поиск в документации

### Горячие клавиши
- `Ctrl + K` - открыть поиск
- `Ctrl + N` - создать новый проект
- `Ctrl + S` - сохранить изменения
- `Esc` - закрыть модальные окна

### Экспорт данных
Большинство таблиц поддерживают экспорт:
- **CSV** - для Excel и Google Sheets
- **JSON** - для разработчиков
- **PDF** - для отчетов

### Уведомления
Система уведомлений информирует о важных событиях:
- Новые регистрации пользователей
- Крупные транзакции
- Системные ошибки
- Окончание пробного периода

---

## Быстрый старт

### За 5 минут:
1. Создайте первый проект
2. Настройте базовые параметры бонусов
3. Получите webhook URL для интеграции

### За 15 минут:
1. Создайте Telegram бота
2. Настройте приветственные сообщения
3. Протестируйте работу системы

### За 30 минут:
1. Настройте многоуровневую систему
2. Создайте реферальную программу
3. Интегрируйте с вашим сайтом

---

Это полное руководство по всем страницам и функциям административной панели Gupil. Каждый раздел содержит подробные инструкции по использованию всех возможностей системы.

Основные настройки конкретного проекта.

#### Разделы настроек:

**Основные настройки:**
- Название проекта
- Домен сайта
- Режим работы (с ботом/без бота)
- Описание проекта

**Бонусная система:**
- Процент начисления бонусов (%)
- Срок действия бонусов (дни)
- Приветственные бонусы
- Поведение бонусов (EARN_ONLY, SPEND_ONLY, SPEND_AND_EARN)

**Реферальная программа:**
- Включение/отключение
- Многоуровневая система (до 3 уровней)
- Проценты для каждого уровня
- Минимальная сумма заказа
- Срок действия реферальных cookie

#### Как настроить:
1. Перейдите в проект → Настройки
2. Заполните основную информацию
3. Настройте параметры бонусной системы
4. При необходимости включите реферальную программу
5. Сохраните изменения

## Управление пользователями

### Пользователи проекта
**URL**: `/dashboard/projects/[id]/users`

Управление пользователями конкретного проекта.

#### Функции:
- **Просмотр всех пользователей** - таблица с данными
- **Фильтрация** - по статусу, дате регистрации
- **Поиск** - по email, телефону, имени
- **Редактирование профиля** - изменение данных пользователя
- **Управление статусом** - активация/деактивация

#### Информация о пользователе:
- Основные данные (имя, email, телефон)
- Telegram данные (ID, username)
- Статус активации
- Дата регистрации
- Баланс бонусов
- Реферальная информация
- Метаданные (дополнительные поля)

#### Как редактировать пользователя:
1. Найдите пользователя в таблице
2. Нажмите на меню действий (три точки)
3. Выберите "Редактировать"
4. Измените необходимые поля
5. Сохраните изменения

### Управление бонусами
**URL**: `/dashboard/bonuses`

Глобальное управление бонусами всех проектов.

#### Функции:
- **Просмотр всех пользователей** - из всех проектов
- **Фильтрация по проекту** - выбор конкретного проекта
- **История транзакций** - все операции с бонусами
- **Ручное начисление/списание** - административные операции

#### Как начислить бонусы вручную:
1. Найдите пользователя
2. Нажмите "Начислить бонусы"
3. Укажите сумму и причину
4. Подтвердите операцию

## Telegram боты

### Управление ботом
**URL**: `/dashboard/projects/[id]/bot`

Настройка и управление Telegram ботом проекта.

#### Настройки бота:
**Основные:**
- Токен бота (от @BotFather)
- Имя бота
- Описание
- Статус (запущен/остановлен)

**Сообщения:**
- Приветственное сообщение
- Сообщение активации
- Сообщения об ошибках
- Кнопки и клавиатура

**Функциональные настройки:**
- Автоответы
- Команды бота
- Webhook настройки

#### Как настроить бота:
1. Создайте бота через @BotFather в Telegram
2. Скопируйте токен бота
3. Вставьте токен в настройки проекта
4. Настройте сообщения и кнопки
5. Запустите бота

### Шаблоны ботов
**URL**: `/dashboard/templates`

Готовые шаблоны для быстрой настройки ботов.

#### Доступные шаблоны:
- **Базовый workflow** - простое приветствие
- **Регистрация через email** - сбор email и активация
- **Система лояльности** - полный цикл бонусной программы
- **Реферальная программа** - привлечение рефералов

#### Как использовать шаблон:
1. Выберите подходящий шаблон
2. Нажмите "Установить"
3. Настройте параметры под ваш проект
4. Активируйте workflow

## Конструктор сценариев

### Workflow конструктор
**URL**: `/dashboard/projects/[id]/workflow`

Визуальный конструктор для создания сценариев взаимодействия с пользователями.

#### Типы нод:
**Триггеры:**
- Команда бота (/start, /help)
- Получение сообщения
- Получение контакта
- Callback кнопки

**Сообщения:**
- Текстовое сообщение
- Сообщение с кнопками
- Запрос данных (email, телефон)

**Действия:**
- Начисление бонусов
- Проверка пользователя
- API запросы
- Обновление данных

**Условия:**
- Проверка значений
- Логические операции
- Сравнения

#### Как создать workflow:
1. Перетащите триггер на холст
2. Добавьте необходимые ноды
3. Соедините ноды стрелками
4. Настройте параметры каждой ноды
5. Сохраните и активируйте workflow

### Мониторинг выполнений
**URL**: `/dashboard/projects/[id]/workflow/monitoring`

Отслеживание выполнения workflow в реальном времени.

#### Информация:
- **Список выполнений** - все запуски workflow
- **Статус выполнения** - успешно/ошибка/в процессе
- **Детали выполнения** - пошаговый лог
- **Переменные** - значения на каждом шаге
- **Время выполнения** - продолжительность

## Интеграции

### Webhook интеграция
**URL**: `/dashboard/projects/[id]/integration`

Настройка интеграции с внешними системами через webhook.

#### Настройки:
- **Webhook URL** - адрес для отправки данных
- **Секретный ключ** - для безопасности
- **Формат данных** - JSON структура
- **Тестирование** - проверка интеграции

#### Поддерживаемые события:
- `register_user` - регистрация пользователя
- `purchase` - совершение покупки
- `spend_bonuses` - списание бонусов

#### Пример интеграции с Tilda:

1. **Скопируйте Webhook URL** из настроек проекта
2. **В Tilda перейдите в настройки формы**
3. **Добавьте webhook** в раздел "Уведомления"
4. **Настройте отправку данных** при отправке формы

### Виджет для сайта

#### Подключение виджета бонусов:

1. **Скопируйте код виджета** из раздела интеграции
2. **Вставьте код на страницу** перед закрывающим тегом `</body>`
3. **Настройте отображение** через CSS при необходимости

#### Настройка промокода в Tilda:

![Подключение промокода Tilda](/Подключение промокода Tilda.jpg)

1. **Откройте настройки корзины** в Tilda
2. **Включите поле промокода**
3. **Настройте название** (например, "GUPIL")
4. **Сохраните настройки**

Виджет автоматически будет показывать доступные бонусы и позволит их использовать при оплате.

## Аналитика и отчеты

### Аналитика проекта
**URL**: `/dashboard/projects/[id]/analytics`

Детальная аналитика по проекту.

#### Метрики:
- **Пользователи** - регистрации, активность
- **Бонусы** - начисления, списания, остатки
- **Транзакции** - покупки, возвраты
- **Конверсии** - воронка пользователей

### Реферальная статистика
**URL**: `/dashboard/projects/[id]/referral`

Статистика реферальной программы.

#### Показатели:
- **Количество рефералов** - привлеченные пользователи
- **Выплаты рефереров** - начисленные бонусы
- **Конверсия** - процент активных рефералов
- **Топ рефереры** - самые активные пользователи

## Дополнительные функции

### Рассылки
**URL**: `/dashboard/projects/[id]/mailings`

Создание и управление рассылками.

#### Типы рассылок:
- **Email рассылки** - через почту
- **Telegram рассылки** - через бота
- **Push уведомления** - в браузере

### Сегментация
**URL**: `/dashboard/projects/[id]/segments`

Создание сегментов пользователей для таргетированных рассылок.

### Логи системы
**URL**: `/dashboard/projects/[id]/logs`

Просмотр логов и отладочной информации.

### A/B тестирование
**URL**: `/dashboard/projects/[id]/ab-testing`

Создание и анализ A/B тестов для оптимизации конверсий.

## Настройки аккаунта

### Профиль пользователя
**URL**: `/dashboard/settings`

Управление настройками вашего аккаунта.

#### Разделы:
- **Профиль** - основная информация, аватар
- **Безопасность** - смена пароля, 2FA
- **Уведомления** - настройки оповещений
- **Биллинг** - тарифные планы, оплата

### Биллинг
**URL**: `/dashboard/billing`

Управление подпиской и оплатой.

#### Функции:
- **Текущий тариф** - информация о плане
- **История платежей** - все транзакции
- **Смена тарифа** - upgrade/downgrade
- **Настройка автоплатежей**

## Супер-админ панель

Доступна только для администраторов системы.

### Управление пользователями
**URL**: `/super-admin/users`

Управление всеми пользователями системы.

### Управление проектами
**URL**: `/super-admin/projects`

Просмотр и управление всеми проектами.

### Системные настройки
**URL**: `/super-admin/settings`

Глобальные настройки системы.

### Мониторинг ошибок
**URL**: `/super-admin/errors`

Просмотр системных ошибок и логов.

## Советы по использованию

### Быстрый старт:
1. Создайте первый проект
2. Настройте базовые параметры бонусов
3. Создайте Telegram бота
4. Установите готовый шаблон workflow
5. Интегрируйте с вашим сайтом

### Лучшие практики:
- Регулярно проверяйте аналитику
- Тестируйте изменения на небольшой группе
- Используйте сегментацию для персонализации
- Мониторьте логи для выявления проблем
- Создавайте резервные копии настроек

### Решение проблем:
- Проверьте статус бота в настройках
- Убедитесь в правильности webhook URL
- Проверьте логи выполнения workflow
- Обратитесь в поддержку при необходимости