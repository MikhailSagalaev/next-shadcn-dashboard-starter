# üéâ Telegram Rich Editor - –ö—Ä–∞—Ç–∫–∞—è —Å–≤–æ–¥–∫–∞

## ‚úÖ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è Telegram —Å–æ–æ–±—â–µ–Ω–∏–π, –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ —Å–∏—Å—Ç–µ–º–µ.

## üì¶ –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/components/ui/telegram-rich-editor.tsx` - –æ—Å–Ω–æ–≤–Ω–æ–π WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/telegram-rich-editor.md` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `TELEGRAM_EDITOR_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `CHANGELOG_TELEGRAM_EDITOR.md` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `TELEGRAM_EDITOR_SUMMARY.md` - —ç—Ç–∞ —Å–≤–æ–¥–∫–∞

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

1. `src/components/ui/telegram-message-editor.tsx` - –æ–±–µ—Ä—Ç–∫–∞ –Ω–∞–¥ –Ω–æ–≤—ã–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–æ–º
2. `src/features/workflow/components/workflow-properties.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ workflow
3. `src/features/workflow/components/nodes/message-node.tsx` - —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ø—Ä–µ–≤—å—é
4. `src/features/bot-constructor/components/bot-constructor-properties.tsx` - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –±–æ—Ç-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

## üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ñ–∏—Ä–Ω—ã–π (Ctrl+B)
- ‚úÖ –ö—É—Ä—Å–∏–≤ (Ctrl+I)
- ‚úÖ –ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π (Ctrl+U)
- ‚úÖ –ó–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π
- ‚úÖ –ö–æ–¥
- ‚úÖ –°—Å—ã–ª–∫–∏

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- ‚úÖ –í—Å—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π (–æ—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä)
- ‚úÖ –°—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤
- ‚úÖ –°—á–µ—Ç—á–∏–∫ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HTML

## üìç –ú–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. Workflow –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
**–§–∞–π–ª:** `src/features/workflow/components/workflow-properties.tsx`
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –Ω–æ–¥–∞—Ö
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–§–∞–π–ª:** `src/features/workflow/components/nodes/message-node.tsx`
- –ü—Ä–µ–≤—å—é —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –Ω–æ–¥–∞—Ö
- –°—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 2. –ë–æ—Ç-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
**–§–∞–π–ª:** `src/features/bot-constructor/components/bot-constructor-properties.tsx`
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π –±–æ—Ç–∞
- –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –í—Å—Ç–∞–≤–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### 3. –°–∏—Å—Ç–µ–º–∞ –±–æ–Ω—É—Å–æ–≤
**–§–∞–π–ª:** `src/features/bonuses/components/rich-notification-dialog.tsx`
- –ú–∞—Å—Å–æ–≤—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —á–µ—Ä–µ–∑ `TelegramMessageEditor`

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```tsx
import { TelegramRichEditor } from '@/components/ui/telegram-rich-editor';

<TelegramRichEditor
  value={message}
  onChange={setMessage}
  placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."
  showVariableHelper={true}
  minHeight="200px"
/>
```

### –° –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
```tsx
<TelegramRichEditor
  value={message}
  onChange={setMessage}
  showVariableHelper={true}
/>
```

## üé® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ç—É–ª–±–∞—Ä
–£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–º—ã –≤ Telegram:
- ‚ùå –ó–∞–≥–æ–ª–æ–≤–∫–∏ (H1, H2, H3)
- ‚ùå –°–ø–∏—Å–∫–∏ (–º–∞—Ä–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –Ω—É–º–µ—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- ‚ùå –¢–∞–±–ª–∏—Ü—ã
- ‚ùå –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ–∫–∞)
- ‚ùå –¶–≤–µ—Ç–∞ —Ç–µ–∫—Å—Ç–∞
- ‚ùå –†–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞
- ‚ùå –í—ã—Ä–∞–≤–Ω–∏–≤–∞–Ω–∏–µ

–û—Å—Ç–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ Telegram-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
- ‚úÖ –ñ–∏—Ä–Ω—ã–π, –∫—É—Ä—Å–∏–≤, –ø–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π, –∑–∞—á–µ—Ä–∫–Ω—É—Ç—ã–π
- ‚úÖ –ö–æ–¥
- ‚úÖ –°—Å—ã–ª–∫–∏
- ‚úÖ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ Telegram
- –¢–æ–ª—å–∫–æ HTML —Ç–µ–≥–∏, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ Telegram
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Ç–µ–≥–æ–≤
- –†–µ–∂–∏–º –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Å–µ–≥–¥–∞ HTML
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
TelegramRichEditor
‚îú‚îÄ‚îÄ LexicalComposer (–æ—Å–Ω–æ–≤–∞)
‚îú‚îÄ‚îÄ ToolbarPlugin (–ø–∞–Ω–µ–ª—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ RichTextPlugin (—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
‚îú‚îÄ‚îÄ HTMLConverterPlugin (–∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ VariableInsertPlugin (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
‚îú‚îÄ‚îÄ HistoryPlugin (–æ—Ç–º–µ–Ω–∞/–ø–æ–≤—Ç–æ—Ä)
‚îî‚îÄ‚îÄ LinkPlugin (—Å—Å—ã–ª–∫–∏)
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–∞–∫–µ—Ç—ã:
- `lexical` - —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞
- `@lexical/react` - React –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `@lexical/html` - –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è HTML
- –î—Ä—É–≥–∏–µ –ø–ª–∞–≥–∏–Ω—ã Lexical

### –†–∞–∑–º–µ—Ä
- ~50KB gzipped
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –ø–ª–∞–≥–∏–Ω–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ
- ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è TypeScript
- ‚úÖ –°–±–æ—Ä–∫–∞ production
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–æ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –†–∞–±–æ—Ç–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ –í—Å—Ç–∞–≤–∫–∞ —Å—Å—ã–ª–æ–∫

### –¢—Ä–µ–±—É–µ—Ç—Å—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
- [ ] –†–∞–±–æ—Ç–∞ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ Telegram
- [ ] –†–∞–±–æ—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –Ω–∞ –±–æ–ª—å—à–∏—Ö —Ç–µ–∫—Å—Ç–∞—Ö

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
–ß–∏—Ç–∞–π—Ç–µ `TELEGRAM_EDITOR_GUIDE.md` - –ø—Ä–æ—Å—Ç–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏.

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
–ß–∏—Ç–∞–π—Ç–µ `docs/telegram-rich-editor.md` - —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å API.

### –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
–ß–∏—Ç–∞–π—Ç–µ `CHANGELOG_TELEGRAM_EDITOR.md` - –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ**
   ```bash
   yarn dev
   ```

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
   - Workflow –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Üí –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–¥—É "–°–æ–æ–±—â–µ–Ω–∏–µ"
   - –ë–æ—Ç-–∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä ‚Üí –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–¥—É "–°–æ–æ–±—â–µ–Ω–∏–µ"
   - –ë–æ–Ω—É—Å—ã ‚Üí –û—Ç–ø—Ä–∞–≤—å—Ç–µ –º–∞—Å—Å–æ–≤–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

3. **–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ Telegram**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Å—ã–ª–∫–∏

4. **–°–æ–±–µ—Ä–∏—Ç–µ feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**

## üí° –°–æ–≤–µ—Ç—ã

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ - —ç—Ç–æ –±—ã—Å—Ç—Ä–µ–µ
- –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
- –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ç–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –Ω–æ–≤—ã–º–∏ –ø–ª–∞–≥–∏–Ω–∞–º–∏
- –°–ª–µ–¥—É–π—Ç–µ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º Lexical

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ù–µ—Ç –ø—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ —Å—Ç–∏–ª–µ Telegram** - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v1.1.0
2. **–ù–µ—Ç drag & drop –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v1.1.0
3. **–ù–µ—Ç —ç–º–æ–¥–∑–∏ –ø–∏–∫–µ—Ä–∞** - –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –≤ v1.2.0

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π WYSIWYG —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è Telegram —Å–æ–æ–±—â–µ–Ω–∏–π:
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –£–¥–æ–±–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏
- ‚úÖ –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
- ‚úÖ –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤–æ –≤—Å–µ –º–µ—Å—Ç–∞ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü—Ä–∏—è—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã! üöÄ**

---

**–î–∞—Ç–∞:** 2025-11-29  
**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
